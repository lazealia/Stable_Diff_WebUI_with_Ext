import{S as x,i as ee,s as K,B as G,C as g,g as y,E as F,F as X,q as S,ae as qt,G as P,L as Y,r as we,b as U,w as Ut,H,aa as st,ai as Bt,p as w,l as te,t as I,o as ne,N as Ht,u as Et,T as ke,a5 as Wt,ab as ft,ac as _t,D as Pt,M as j,J as W,a1 as Je,ak as Nt,a0 as it,y as ce,e as B,m as E,n as R,ad as Ye,al as Ft,f as me,a as Q,k as Z,V as Xt,X as Yt,Y as Ot,Z as Jt,x as Vt,$ as Gt,h as Qt,j as Zt}from"./index-c3f16193.js";import{B as Kt}from"./Button-f73b05a2.js";import{B as Rt}from"./BlockLabel-71fe1488.js";/* empty css                                                    */import{I as Oe}from"./Image-b64d0ee1.js";import{C as $t,i as xt,U as en,W as tn}from"./StaticImage.svelte_svelte_type_style_lang-c9c95db8.js";import{I as pe,C as nn,M as Ve}from"./ModifyUpload-1ada427b.js";import{C as rn}from"./Copy-a84b4ab9.js";import{U as ln}from"./Upload-dd1bae9e.js";import{E as sn}from"./Empty-43c9e810.js";import{D as an}from"./Download-1703c704.js";import"./Blocks-941d2800.js";import{U as on}from"./UploadText-6b61dd77.js";import{E as Tr}from"./Image-85e96e08.js";import"./ModifyUpload.svelte_svelte_type_style_lang-ba6baa96.js";function un(t){let e,n,r;return{c(){e=G("svg"),n=G("path"),r=G("path"),g(n,"d","M28.828 3.172a4.094 4.094 0 0 0-5.656 0L4.05 22.292A6.954 6.954 0 0 0 2 27.242V30h2.756a6.952 6.952 0 0 0 4.95-2.05L28.828 8.829a3.999 3.999 0 0 0 0-5.657zM10.91 18.26l2.829 2.829l-2.122 2.121l-2.828-2.828zm-2.619 8.276A4.966 4.966 0 0 1 4.756 28H4v-.759a4.967 4.967 0 0 1 1.464-3.535l1.91-1.91l2.829 2.828zM27.415 7.414l-12.261 12.26l-2.829-2.828l12.262-12.26a2.047 2.047 0 0 1 2.828 0a2 2 0 0 1 0 2.828z"),g(n,"fill","currentColor"),g(r,"d","M6.5 15a3.5 3.5 0 0 1-2.475-5.974l3.5-3.5a1.502 1.502 0 0 0 0-2.121a1.537 1.537 0 0 0-2.121 0L3.415 5.394L2 3.98l1.99-1.988a3.585 3.585 0 0 1 4.95 0a3.504 3.504 0 0 1 0 4.949L5.439 10.44a1.502 1.502 0 0 0 0 2.121a1.537 1.537 0 0 0 2.122 0l4.024-4.024L13 9.95l-4.025 4.024A3.475 3.475 0 0 1 6.5 15z"),g(r,"fill","currentColor"),g(e,"width","100%"),g(e,"height","100%"),g(e,"viewBox","0 0 32 32")},m(a,s){y(a,e,s),F(e,n),F(e,r)},p:X,i:X,o:X,d(a){a&&S(e)}}}class fn extends x{constructor(e){super(),ee(this,e,null,un,K,{})}}function _n(t){let e,n,r,a,s,l,o;return{c(){e=G("svg"),n=G("circle"),r=G("circle"),a=G("circle"),s=G("circle"),l=G("circle"),o=G("path"),g(n,"cx","10"),g(n,"cy","12"),g(n,"r","2"),g(n,"fill","currentColor"),g(r,"cx","16"),g(r,"cy","9"),g(r,"r","2"),g(r,"fill","currentColor"),g(a,"cx","22"),g(a,"cy","12"),g(a,"r","2"),g(a,"fill","currentColor"),g(s,"cx","23"),g(s,"cy","18"),g(s,"r","2"),g(s,"fill","currentColor"),g(l,"cx","19"),g(l,"cy","23"),g(l,"r","2"),g(l,"fill","currentColor"),g(o,"fill","currentColor"),g(o,"d","M16.54 2A14 14 0 0 0 2 16a4.82 4.82 0 0 0 6.09 4.65l1.12-.31a3 3 0 0 1 3.79 2.9V27a3 3 0 0 0 3 3a14 14 0 0 0 14-14.54A14.05 14.05 0 0 0 16.54 2Zm8.11 22.31A11.93 11.93 0 0 1 16 28a1 1 0 0 1-1-1v-3.76a5 5 0 0 0-5-5a5.07 5.07 0 0 0-1.33.18l-1.12.31A2.82 2.82 0 0 1 4 16A12 12 0 0 1 16.47 4A12.18 12.18 0 0 1 28 15.53a11.89 11.89 0 0 1-3.35 8.79Z"),g(e,"width","100%"),g(e,"height","100%"),g(e,"viewBox","0 0 32 32")},m(i,_){y(i,e,_),F(e,n),F(e,r),F(e,a),F(e,s),F(e,l),F(e,o)},p:X,i:X,o:X,d(i){i&&S(e)}}}class cn extends x{constructor(e){super(),ee(this,e,null,_n,K,{})}}function hn(t){let e,n;return{c(){e=G("svg"),n=G("path"),g(n,"fill","currentColor"),g(n,"d","M7 27h23v2H7zm20.38-16.49l-7.93-7.92a2 2 0 0 0-2.83 0l-14 14a2 2 0 0 0 0 2.83L7.13 24h9.59l10.66-10.66a2 2 0 0 0 0-2.83zM15.89 22H8l-4-4l6.31-6.31l7.93 7.92zm3.76-3.76l-7.92-7.93L18 4l8 7.93z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"width","100%"),g(e,"height","100%"),g(e,"viewBox","0 0 32 32")},m(r,a){y(r,e,a),F(e,n)},p:X,i:X,o:X,d(r){r&&S(e)}}}class mn extends x{constructor(e){super(),ee(this,e,null,hn,K,{})}}function gn(t){let e,n;return{c(){e=G("svg"),n=G("path"),g(n,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"width","100%"),g(e,"height","100%"),g(e,"viewBox","0 0 24 24"),g(e,"fill","none"),g(e,"stroke","currentColor"),g(e,"stroke-width","1.5"),g(e,"stroke-linecap","round"),g(e,"stroke-linejoin","round"),g(e,"class","feather feather-edit-2")},m(r,a){y(r,e,a),F(e,n)},p:X,i:X,o:X,d(r){r&&S(e)}}}let ct=class extends x{constructor(e){super(),ee(this,e,null,gn,K,{})}};const Dt=t=>{let e=t.currentTarget;const n=e.getBoundingClientRect(),r=e.naturalWidth/n.width,a=e.naturalHeight/n.height;if(r>a){n.width;const o=e.naturalHeight/r,i=(n.height-o)/2;var s=Math.round((t.clientX-n.left)*r),l=Math.round((t.clientY-n.top-i)*r)}else{const o=e.naturalWidth/a;n.height;const i=(n.width-o)/2;var s=Math.round((t.clientX-n.left-i)*a),l=Math.round((t.clientY-n.top)*a)}return s<0||s>=e.naturalWidth||l<0||l>=e.naturalHeight?null:[s,l]};function dn(t){let e,n;return{c(){e=P("img"),Y(e.src,n=t[0])||g(e,"src",n),g(e,"alt","")},m(r,a){y(r,e,a),t[4](e)},p(r,[a]){a&1&&!Y(e.src,n=r[0])&&g(e,"src",n)},i:X,o:X,d(r){r&&S(e),t[4](null)}}}function bn(t,e,n){let{image:r}=e,a;const s=we();let l;function o(){l.destroy()}function i(){l&&o(),l=new $t(a,{autoCropArea:1,cropend(){const u=l.getCroppedCanvas().toDataURL();s("crop",u)}}),s("crop",r)}function _(u){U[u?"unshift":"push"](()=>{a=u,n(1,a)})}return t.$$set=u=>{"image"in u&&n(0,r=u.image)},[r,a,o,i,_]}class Lt extends x{constructor(e){super(),ee(this,e,bn,dn,K,{image:0,destroy:2,create:3})}get image(){return this.$$.ctx[0]}set image(e){this.$$set({image:e}),qt()}get destroy(){return this.$$.ctx[2]}get create(){return this.$$.ctx[3]}}class ht{constructor(e,n){this.x=e,this.y=n}}class mt extends ht{update(e){this.x=e.x,this.y=e.y}moveByAngle(e,n){const r=e+Math.PI/2;this.x=this.x+Math.sin(r)*n,this.y=this.y-Math.cos(r)*n}equalsTo(e){return this.x===e.x&&this.y===e.y}getDifferenceTo(e){return new ht(this.x-e.x,this.y-e.y)}getDistanceTo(e){const n=this.getDifferenceTo(e);return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}getAngleTo(e){const n=this.getDifferenceTo(e);return Math.atan2(n.y,n.x)}toObject(){return{x:this.x,y:this.y}}}const kn=30;class pn{constructor({radius:e=kn,enabled:n=!0,initialPoint:r={x:0,y:0}}={}){this.radius=e,this._isEnabled=n,this.pointer=new mt(r.x,r.y),this.brush=new mt(r.x,r.y),this.angle=0,this.distance=0,this._hasMoved=!1}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}isEnabled(){return this._isEnabled}setRadius(e){this.radius=e}getRadius(){return this.radius}getBrushCoordinates(){return this.brush.toObject()}getPointerCoordinates(){return this.pointer.toObject()}getBrush(){return this.brush}getPointer(){return this.pointer}getAngle(){return this.angle}getDistance(){return this.distance}brushHasMoved(){return this._hasMoved}update(e,{both:n=!1}={}){return this._hasMoved=!1,this.pointer.equalsTo(e)&&!n?!1:(this.pointer.update(e),n?(this._hasMoved=!0,this.brush.update(e),!0):(this._isEnabled?(this.distance=this.pointer.getDistanceTo(this.brush),this.angle=this.pointer.getAngleTo(this.brush),this.distance>this.radius&&(this.brush.moveByAngle(this.angle,this.distance-this.radius),this._hasMoved=!0)):(this.distance=0,this.angle=0,this.brush.update(e),this._hasMoved=!0),!0))}}const jt=Ut("#000000");function gt(t,e,n){const r=t.slice();return r[71]=e[n].name,r[72]=e[n].zIndex,r[73]=e,r[74]=n,r}function dt(t){let e,n,r;return{c(){e=P("div"),e.textContent="Start drawing",g(e,"class","start-prompt svelte-9enptz")},m(a,s){y(a,e,s),r=!0},i(a){r||(st(()=>{r&&(n||(n=ft(e,_t,{duration:50},!0)),n.run(1))}),r=!0)},o(a){n||(n=ft(e,_t,{duration:50},!1)),n.run(0),r=!1},d(a){a&&S(e),a&&n&&n.end()}}}function bt(t){let e,n=t[71],r,a;const s=()=>t[33](e,n),l=()=>t[33](null,n);return{c(){e=P("canvas"),g(e,"key",t[71]),Pt(e,"z-index",t[72]),g(e,"class","svelte-9enptz"),j(e,"lr",t[7]),j(e,"tb",!t[7])},m(o,i){y(o,e,i),s(),r||(a=[W(e,"mousedown",t[71]==="interface"?t[9]:void 0),W(e,"mousemove",t[71]==="interface"?t[10]:void 0),W(e,"mouseup",t[71]==="interface"?t[11]:void 0),W(e,"mouseout",t[71]==="interface"?t[11]:void 0),W(e,"mouseout",function(){Je(t[71]==="interface"?t[34]:void 0)&&(t[71]==="interface"?t[34]:void 0).apply(this,arguments)}),W(e,"blur",t[71]==="interface"?t[11]:void 0),W(e,"touchstart",t[71]==="interface"?t[9]:void 0),W(e,"touchmove",t[71]==="interface"?t[10]:void 0),W(e,"touchend",t[71]==="interface"?t[11]:void 0),W(e,"touchcancel",t[71]==="interface"?t[11]:void 0),W(e,"click",Nt(t[32]))],r=!0)},p(o,i){t=o,n!==t[71]&&(l(),n=t[71],s()),i[0]&128&&j(e,"lr",t[7]),i[0]&128&&j(e,"tb",!t[7])},d(o){o&&S(e),l(),r=!1,it(a)}}}function wn(t){let e,n,r,a,s=t[6]===0&&dt(),l=t[8],o=[];for(let i=0;i<l.length;i+=1)o[i]=bt(gt(t,l,i));return{c(){e=P("div"),s&&s.c(),n=H();for(let i=0;i<o.length;i+=1)o[i].c();g(e,"class","wrap svelte-9enptz"),st(()=>t[36].call(e))},m(i,_){y(i,e,_),s&&s.m(e,null),F(e,n);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);t[35](e),r=Bt(e,t[36].bind(e)),a=!0},p(i,_){if(i[6]===0?s?_[0]&64&&w(s,1):(s=dt(),s.c(),w(s,1),s.m(e,n)):s&&(te(),I(s,1,1,()=>{s=null}),ne()),_[0]&3975){l=i[8];let u;for(u=0;u<l.length;u+=1){const h=gt(i,l,u);o[u]?o[u].p(h,_):(o[u]=bt(h),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=l.length}},i(i){a||(w(s),a=!0)},o(i){I(s),a=!1},d(i){i&&S(e),s&&s.d(),Ht(o,i),t[35](null),r()}}}let In="#aaa";function kt(t,e){return{x:t.x+(e.x-t.x)/2,y:t.y+(e.y-t.y)/2}}function Cn(t){const e=An(t);if(e){const{r:n,g:r,b:a}=e;return(n*299+r*587+a*114)/1e3}return 0}function An(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function yn(t){const[e,n,r]=t.match(/\d+/g).map(Number);function a(s){const l=s.toString(16);return l.length===1?`0${l}`:l}return`#${a(e)}${a(n)}${a(r)}`}function Sn(t,e,n){let r;const a=we();let{value:s}=e,{value_img:l}=e,{mode:o="sketch"}=e,{brush_color:i="#0b0f19"}=e,{brush_radius:_}=e,{source:u}=e,{width:h=400}=e,{height:f=200}=e,{container_height:m=200}=e,{shape:k}=e,C=localStorage.setItem("colorPickerEnable",!1),re=localStorage.setItem("transparentMask",!1),L=0,M=0,J,ie=h,ae=f,oe;const Ie=[{name:"interface",zIndex:15},{name:"drawing",zIndex:11},{name:"temp",zIndex:12},{name:"mask",zIndex:-1},{name:"temp_fake",zIndex:-2}];let z={},b={},O=[],N=[],he=!0,ue=!0,fe=!1,_e=!1,p=null,V=null,ge=null,le=0;function $(){if(!k){b.temp.drawImage(l,0,0,h,f);return}let c=l.naturalWidth,A=l.naturalHeight;const T=k[0]/k[1],v=c/A;let D=0,q=0;T<v?(c=k[1]*v,A=k[1],D=(k[0]-c)/2):T>v?(c=k[0],A=k[0]/v,q=(k[1]-A)/2):(D=0,q=0,c=k[0],A=k[1]),b.temp.drawImage(l,D,q,c,A)}Et(async()=>{Object.keys(z).forEach(c=>{n(29,b[c]=z[c].getContext("2d"),b)}),await ke(),l&&(l.addEventListener("load",c=>{u==="webcam"?(b.temp.save(),b.temp.translate(h,0),b.temp.scale(-1,1),b.temp.drawImage(l,0,0),b.temp.restore()):$(),b.drawing.drawImage(z.temp,0,0,h,f),se()}),setTimeout(()=>{u==="webcam"?(b.temp.save(),b.temp.translate(h,0),b.temp.scale(-1,1),b.temp.drawImage(l,0,0),b.temp.restore()):$(),b.drawing.drawImage(z.temp,0,0,h,f),Ce({lines:N.slice()}),se()},100)),n(31,p=new pn({radius:_*.05,enabled:!0,initialPoint:{x:h/2,y:f/2}})),ge=new xt((c,A,...T)=>{He()}),ge.observe(V),Me(),n(27,J=!0),requestAnimationFrame(()=>{ze(),requestAnimationFrame(()=>{be()})})});function ze(){const c=h/2,A=f/2;p.update({x:c,y:A},{both:!0}),p.update({x:c,y:A},{both:!1}),he=!0,ue=!0}Wt(()=>{n(27,J=!1),ge.unobserve(V)});function Be(){ve(),l&&$(),N.length==0&&a("clear"),n(6,le=N.length),Ce({lines:N}),se()}function Ee(c){ve(),l&&(u==="webcam"?(b.temp.save(),b.temp.translate(h,0),b.temp.scale(-1,1),b.temp.drawImage(l,0,0),b.temp.restore()):$(),(!N||!N.length)&&b.drawing.drawImage(z.temp,0,0,h,f)),Ce({lines:c}),n(6,le=c.length),N.length&&n(30,N=c),N.length==0&&a("clear")}function Re(){Ee([]),se()}function Ge(){const c=N.slice(0,-1);Ee(c),se()}let Ce=({lines:c})=>{const A=i;c.forEach(T=>{let{points:v,brush_color:D,brush_radius:q}=T;ye(o==="mask"?{points:v,brush_color:A,brush_radius:q}:{points:v,brush_color:D,brush_radius:q}),o==="mask"&&Ne({points:v,brush_color:A,brush_radius:q}),O=v}),Se(),o==="mask"&&Fe()},Qe=c=>{c.preventDefault();const{x:A,y:T}=We(c);if(!(!c.touches&&c.button!==0)){if(C=localStorage.getItem("colorPickerEnable")==="true",C&&o!=="mask"){n(15,i=$e(A,T));const v=yn(i);jt.set(v),localStorage.setItem("colorPickerEnable","false");return}_e=!0,c.touches&&c.touches.length>0&&p.update({x:A,y:T},{both:!0}),Pe(A,T),n(6,le+=1)}},De=c=>{c.preventDefault(),localStorage.getItem("resetLines")==="true"&&N.length>0?(localStorage.setItem("resetLines","false"),Re()):localStorage.setItem("resetLines","false"),localStorage.getItem("fillCanvasBrushColor")==="true"&&(xe(),localStorage.setItem("fillCanvasBrushColor",!1));const{x:A,y:T}=We(c);n(1,L=A),n(2,M=T),Pe(A,T),localStorage.setItem("overCanvas","true")},Ze=c=>{c.preventDefault(),De(c),fe=!1,_e=!1,Se(),re=localStorage.getItem("transparentMask")==="true",re&&Be(),o==="mask"&&Fe()},Le=0,je=0,qe=0,Ue=!1,He=async()=>{if(k&&V){const T=V?.getBoundingClientRect(),v=k[0]/k[1],D=T.width/T.height;n(7,Ue=v<D)}if(h===Le&&f===je&&qe===m)return;const c={width:h,height:f},A={height:m,width:m*(c.width/c.height)};await Promise.all([de(z.interface,c,A),de(z.drawing,c,A),de(z.temp,c,A),de(z.temp_fake,c,A),de(z.mask,c,A,!1)]),_||n(12,_=20*(c.width/A.width)),Me({once:!0}),setTimeout(()=>{je=f,Le=h,qe=m},10),await ke(),be()},de=async(c,A,T,v=!0)=>{if(!J)return;await ke();const D=window.devicePixelRatio||1;c.width=A.width*(v?D:1),c.height=A.height*(v?D:1);const q=c.getContext("2d");v&&q.scale(D,D),c.style.width=`${T.width}px`,c.style.height=`${T.height}px`},We=c=>{const A=z.interface.getBoundingClientRect();let T=c.clientX,v=c.clientY;return c.changedTouches&&c.changedTouches.length>0&&(T=c.changedTouches[0].clientX,v=c.changedTouches[0].clientY),{x:(T-A.left)/A.width*h,y:(v-A.top)/A.height*f}};function Ke(){if(C=localStorage.getItem("colorPickerEnable")==="true",C&&o!=="mask")for(const c in z)n(0,z[c].style.cursor="crosshair",z);else for(const c in z)n(0,z[c].style.cursor="none",z)}let Pe=(c,A)=>{if(C=localStorage.getItem("colorPickerEnable")==="true",Ke(),C&&o!=="mask")return;p.update({x:c,y:A});const T=!p.isEnabled();(_e&&!fe||T&&_e)&&(fe=!0,O.push(p.brush.toObject())),fe&&(O.push(p.brush.toObject()),ye({points:O,brush_color:i,brush_radius:_}),o==="mask"&&Ne({points:O,brush_color:i,brush_radius:_})),he=!0},ye=({points:c,brush_color:A,brush_radius:T})=>{if(!c||c.length<2||(n(29,b.temp.lineJoin="round",b),n(29,b.temp.lineCap="round",b),n(29,b.temp.strokeStyle=A,b),n(29,b.temp.lineWidth=T,b),!c||c.length<2))return;let v=c[0],D=c[1];b.temp.moveTo(D.x,D.y),b.temp.beginPath();for(var q=1,Ae=c.length;q<Ae;q++){var Te=kt(v,D);b.temp.quadraticCurveTo(v.x,v.y,Te.x,Te.y),v=c[q],D=c[q+1]}b.temp.lineTo(v.x,v.y),b.temp.stroke()},Ne=({points:c,brush_color:A,brush_radius:T})=>{if(!c||c.length<2)return;n(29,b.temp_fake.lineJoin="round",b),n(29,b.temp_fake.lineCap="round",b),n(29,b.temp_fake.strokeStyle="#fff",b),n(29,b.temp_fake.lineWidth=T,b);let v=c[0],D=c[1];b.temp_fake.moveTo(D.x,D.y),b.temp_fake.beginPath();for(var q=1,Ae=c.length;q<Ae;q++){var Te=kt(v,D);b.temp_fake.quadraticCurveTo(v.x,v.y,Te.x,Te.y),v=c[q],D=c[q+1]}b.temp_fake.lineTo(v.x,v.y),b.temp_fake.stroke()};function $e(c,A){const T=b.drawing.getImageData(c-1,A,1,1),[v,D,q,Ae]=T.data;return`rgb(${v}, ${D}, ${q})`}let Fe=()=>{O.length<1||(O.length=0,b.mask.drawImage(z.temp_fake,0,0,h,f),se())},Se=()=>{O.length<1||(N.push({points:O.slice(),brush_color:i,brush_radius:_}),o!=="mask"&&(O.length=0),b.drawing.drawImage(z.temp,0,0,h,f),se())},se=()=>{const c=Xe();a("change",c)};function be(){return n(30,N=[]),ve(),n(6,le=0),!0}function ve(){ue=!0,b.temp.clearRect(0,0,h,f),n(29,b.temp.fillStyle=o==="mask"?"transparent":"#FFFFFF",b),b.temp.fillRect(0,0,h,f),o==="mask"&&(b.temp_fake.clearRect(0,0,z.temp_fake.width,z.temp_fake.height),b.mask.clearRect(0,0,h,f),n(29,b.mask.fillStyle="#000",b),b.mask.fillRect(0,0,h,f))}function xe(){if(o!=="mask"){n(29,b.temp.fillStyle=i,b),b.temp.fillRect(0,0,h,f);var c=0,A=f/2,T=h,v=f/2;b.drawing.beginPath(),b.drawing.moveTo(c,A),b.drawing.lineTo(T,v),n(29,b.drawing.strokeStyle=i,b),n(29,b.drawing.lineWidth=f,b),b.drawing.stroke(),n(30,N=[{points:[{x:c,y:A},{x:T,y:v}],brush_color:i,brush_radius:f}]),n(6,le=1),Se()}}let Me=({once:c=!1}={})=>{if(he||ue){const A=p.getPointerCoordinates(),T=p.getBrushCoordinates();et(b.interface,A,T),he=!1,ue=!1}c||window.requestAnimationFrame(()=>{Me()})},et=(c,A,T)=>{c.clearRect(0,0,h,f);let v=T.x,D=T.y;L&&M&&(v=L,D=M),c.beginPath(),c.fillStyle=i;const q=localStorage.getItem("brushOutline")==="true";if(q){const Ae=Cn(i);c.strokeStyle=Ae>128?"black":"white",_>180?c.lineWidth=4:_>80?c.lineWidth=3:_>20?c.lineWidth=2:c.lineWidth=1}c.arc(v,D,_/2,0,Math.PI*2,!0),c.fill(),q&&c.stroke(),c.beginPath(),c.fillStyle=In,c.arc(v,D,r,0,Math.PI*2,!0),c.fill()};function Xe(){return o==="mask"?z.mask.toDataURL("image/jpg"):z.drawing.toDataURL("image/jpg")}function tt(c){ce.call(this,t,c)}function nt(c,A){U[c?"unshift":"push"](()=>{z[A]=c,n(0,z)})}const rt=()=>{n(1,L=n(2,M=0)),localStorage.setItem("overCanvas","false")};function lt(c){U[c?"unshift":"push"](()=>{V=c,n(5,V)})}function d(){ie=this.offsetWidth,ae=this.offsetHeight,n(3,ie),n(4,ae)}return t.$$set=c=>{"value"in c&&n(16,s=c.value),"value_img"in c&&n(17,l=c.value_img),"mode"in c&&n(18,o=c.mode),"brush_color"in c&&n(15,i=c.brush_color),"brush_radius"in c&&n(12,_=c.brush_radius),"source"in c&&n(19,u=c.source),"width"in c&&n(13,h=c.width),"height"in c&&n(14,f=c.height),"container_height"in c&&n(20,m=c.container_height),"shape"in c&&n(21,k=c.shape)},t.$$.update=()=>{t.$$.dirty[0]&2121728&&k&&(h||f)&&(n(13,h=k[0]),n(14,f=k[1])),t.$$.dirty[0]&134283264&&J&&!s&&be(),t.$$.dirty[0]&2013945857&&J&&l!==oe&&(n(28,oe=l),be(),setTimeout(()=>{u==="webcam"?(b.temp.save(),b.temp.translate(h,0),b.temp.scale(-1,1),b.temp.drawImage(l,0,0),b.temp.restore()):$(),b.drawing.drawImage(z.temp,0,0,h,f),Ce({lines:N.slice()}),se()},50)),t.$$.dirty[0]&4096|t.$$.dirty[1]&1&&p&&(ze(),p.setRadius(_*.05)),t.$$.dirty[0]&24576&&(h||f)&&He(),t.$$.dirty[0]&4096&&(r=_*.075)},[z,L,M,ie,ae,V,le,Ue,Ie,Qe,De,Ze,_,h,f,i,s,l,o,u,m,k,Be,Re,Ge,be,Xe,J,oe,b,N,p,tt,nt,rt,lt,d]}class at extends x{constructor(e){super(),ee(this,e,Sn,wn,K,{value:16,value_img:17,mode:18,brush_color:15,brush_radius:12,source:19,width:13,height:14,container_height:20,shape:21,redraw:22,clear_mask:23,undo:24,clear:25,get_image_data:26},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[22]}get clear_mask(){return this.$$.ctx[23]}get undo(){return this.$$.ctx[24]}get clear(){return this.$$.ctx[25]}get get_image_data(){return this.$$.ctx[26]}}function vn(t){let e,n;return e=new pe({props:{Icon:mn,label:"Clear"}}),e.$on("click",t[3]),{c(){B(e.$$.fragment)},m(r,a){E(e,r,a),n=!0},p:X,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){R(e,r)}}}function Mn(t){let e,n,r,a,s,l,o,i,_;n=new pe({props:{Icon:en,label:"Undo"}}),n.$on("click",t[1]),s=new pe({props:{Icon:rn,label:"Redraw"}}),s.$on("click",t[2]);let u=vn(t);return i=new pe({props:{Icon:nn,label:"Remove Image"}}),i.$on("click",t[4]),{c(){e=P("div"),B(n.$$.fragment),r=H(),a=P("span"),B(s.$$.fragment),l=H(),u&&u.c(),o=H(),B(i.$$.fragment),g(a,"class","hide_redraw svelte-1qjhgsf"),g(e,"class","svelte-1qjhgsf")},m(h,f){y(h,e,f),E(n,e,null),F(e,r),F(e,a),E(s,a,null),F(e,l),u&&u.m(e,null),F(e,o),E(i,e,null),_=!0},p(h,[f]){u.p(h,f)},i(h){_||(w(n.$$.fragment,h),w(s.$$.fragment,h),w(u),w(i.$$.fragment,h),_=!0)},o(h){I(n.$$.fragment,h),I(s.$$.fragment,h),I(u),I(i.$$.fragment,h),_=!1},d(h){h&&S(e),R(n),R(s),u&&u.d(),R(i)}}}function Tn(t){const e=we();return[e,()=>e("undo"),()=>e("redraw"),l=>{e("clear_mask"),l.stopPropagation()},l=>{e("remove_image"),l.stopPropagation()}]}class ot extends x{constructor(e){super(),ee(this,e,Tn,Mn,K,{})}}function pt(t){let e,n,r,a,s;return{c(){e=P("input"),g(e,"aria-label","Brush radius"),g(e,"type","range"),g(e,"min",n=.5*(t[2]/t[6])),g(e,"max",r=75*(t[2]/t[6])),g(e,"class","svelte-p4aq0j")},m(l,o){y(l,e,o),Ye(e,t[0]),a||(s=[W(e,"change",t[11]),W(e,"input",t[11])],a=!0)},p(l,o){o&68&&n!==(n=.5*(l[2]/l[6]))&&g(e,"min",n),o&68&&r!==(r=75*(l[2]/l[6]))&&g(e,"max",r),o&1&&Ye(e,l[0])},d(l){l&&S(e),a=!1,it(s)}}}function zn(t){let e,n,r,a;n=new pe({props:{Icon:cn,label:"Select brush color"}}),n.$on("click",t[12]);let s=t[5]&&wt(t);return{c(){e=P("span"),B(n.$$.fragment),r=H(),s&&s.c(),g(e,"class","col svelte-p4aq0j")},m(l,o){y(l,e,o),E(n,e,null),F(e,r),s&&s.m(e,null),a=!0},p(l,o){l[5]?s?s.p(l,o):(s=wt(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(l){a||(w(n.$$.fragment,l),a=!0)},o(l){I(n.$$.fragment,l),a=!1},d(l){l&&S(e),R(n),s&&s.d()}}}function wt(t){let e,n,r;return{c(){e=P("input"),g(e,"aria-label","Brush color"),g(e,"type","color"),g(e,"class","svelte-p4aq0j")},m(a,s){y(a,e,s),Ye(e,t[1]),n||(r=[W(e,"change",t[13]),W(e,"input",t[14])],n=!0)},p(a,s){s&2&&Ye(e,a[1])},d(a){a&&S(e),n=!1,it(r)}}}function Bn(t){let e,n,r,a,s,l;r=new pe({props:{Icon:fn,label:"Use brush"}}),r.$on("click",t[10]);let o=t[4]&&pt(t),i=zn(t);return{c(){e=P("div"),n=P("span"),B(r.$$.fragment),a=H(),o&&o.c(),s=H(),i&&i.c(),g(n,"class","brush svelte-p4aq0j"),g(e,"class","wrap svelte-p4aq0j")},m(_,u){y(_,e,u),F(e,n),E(r,n,null),F(n,a),o&&o.m(n,null),F(e,s),i&&i.m(e,null),l=!0},p(_,[u]){_[4]?o?o.p(_,u):(o=pt(_),o.c(),o.m(n,null)):o&&(o.d(1),o=null),i.p(_,u)},i(_){l||(w(r.$$.fragment,_),w(i),l=!0)},o(_){I(r.$$.fragment,_),I(i),l=!1},d(_){_&&S(e),R(r),o&&o.d(),i&&i.d()}}}function En(t,e,n){let r;const a=we();let s=!1,l=!1,{brush_radius:o=20}=e,{container_height:i}=e,{img_width:_}=e,{img_height:u}=e,{mode:h="other"}=e,{brush_color:f="#000"}=e;jt.subscribe(M=>{n(1,f=M)});const m=()=>n(4,s=!s);function k(){o=Ft(this.value),n(0,o)}const C=()=>n(5,l=!l),re=()=>{h==="mask"&&a("redraw")};function L(){f=this.value,n(1,f)}return t.$$set=M=>{"brush_radius"in M&&n(0,o=M.brush_radius),"container_height"in M&&n(8,i=M.container_height),"img_width"in M&&n(2,_=M.img_width),"img_height"in M&&n(9,u=M.img_height),"mode"in M&&n(3,h=M.mode),"brush_color"in M&&n(1,f=M.brush_color)},t.$$.update=()=>{t.$$.dirty&772&&n(6,r=i*(_/u))},[o,f,_,h,s,l,r,a,i,u,m,k,C,re,L]}class ut extends x{constructor(e){super(),ee(this,e,En,Bn,K,{brush_radius:0,container_height:8,img_width:2,img_height:9,mode:3,brush_color:1})}}function Rn(t){let e,n,r,a;return{c(){e=P("img"),Y(e.src,n=t[0].image||t[0])||g(e,"src",n),g(e,"alt",""),g(e,"class","svelte-1xm1dxr"),j(e,"webcam",t[5]==="webcam"&&t[9]),j(e,"selectable",t[10])},m(s,l){y(s,e,l),r||(a=W(e,"click",t[31]),r=!0)},p(s,l){l[0]&1&&!Y(e.src,n=s[0].image||s[0])&&g(e,"src",n),l[0]&544&&j(e,"webcam",s[5]==="webcam"&&s[9]),l[0]&1024&&j(e,"selectable",s[10])},i:X,o:X,d(s){s&&S(e),r=!1,a()}}}function Dn(t){let e=t[23],n,r,a,s=It(t),l=t[18]>0&&Ct(t);return{c(){s.c(),n=H(),l&&l.c(),r=me()},m(o,i){s.m(o,i),y(o,n,i),l&&l.m(o,i),y(o,r,i),a=!0},p(o,i){i[0]&8388608&&K(e,e=o[23])?(s.d(1),s=It(o),s.c(),s.m(n.parentNode,n)):s.p(o,i),o[18]>0?l?(l.p(o,i),i[0]&262144&&w(l,1)):(l=Ct(o),l.c(),w(l,1),l.m(r.parentNode,r)):l&&(te(),I(l,1,1,()=>{l=null}),ne())},i(o){a||(w(l),a=!0)},o(o){I(l),a=!1},d(o){s.d(o),o&&S(n),l&&l.d(o),o&&S(r)}}}function Ln(t){let e,n,r,a,s,l,o;return e=new Ve({props:{editable:!0}}),e.$on("edit",t[56]),e.$on("clear",t[26]),{c(){B(e.$$.fragment),n=H(),r=P("img"),Y(r.src,a=t[0])||g(r,"src",a),g(r,"alt",""),g(r,"class","svelte-1xm1dxr"),j(r,"selectable",t[10]),j(r,"webcam",t[5]==="webcam"&&t[9])},m(i,_){E(e,i,_),y(i,n,_),y(i,r,_),s=!0,l||(o=W(r,"click",t[31]),l=!0)},p(i,_){(!s||_[0]&1&&!Y(r.src,a=i[0]))&&g(r,"src",a),(!s||_[0]&1024)&&j(r,"selectable",i[10]),(!s||_[0]&544)&&j(r,"webcam",i[5]==="webcam"&&i[9])},i(i){s||(w(e.$$.fragment,i),s=!0)},o(i){I(e.$$.fragment,i),s=!1},d(i){R(e,i),i&&S(n),i&&S(r),l=!1,o()}}}function jn(t){let e,n,r,a,s={image:t[0]};return e=new Lt({props:s}),t[54](e),e.$on("crop",t[27]),r=new Ve({}),r.$on("clear",t[55]),{c(){B(e.$$.fragment),n=H(),B(r.$$.fragment)},m(l,o){E(e,l,o),y(l,n,o),E(r,l,o),a=!0},p(l,o){const i={};o[0]&1&&(i.image=l[0]),e.$set(i)},i(l){a||(w(e.$$.fragment,l),w(r.$$.fragment,l),a=!0)},o(l){I(e.$$.fragment,l),I(r.$$.fragment,l),a=!1},d(l){t[54](null),R(e,l),l&&S(n),R(r,l)}}}function qn(t){let e,n,r=t[5]==="webcam"&&!t[23]&&yt(t);return{c(){r&&r.c(),e=me()},m(a,s){r&&r.m(a,s),y(a,e,s),n=!0},p(a,s){a[5]==="webcam"&&!a[23]?r?(r.p(a,s),s[0]&8388640&&w(r,1)):(r=yt(a),r.c(),w(r,1),r.m(e.parentNode,e)):r&&(te(),I(r,1,1,()=>{r=null}),ne())},i(a){n||(w(r),n=!0)},o(a){I(r),n=!1},d(a){r&&r.d(a),a&&S(e)}}}function Un(t){let e,n,r,a,s,l,o;e=new ot({}),e.$on("undo",t[45]),e.$on("redraw",t[46]),e.$on("clear",t[29]),e.$on("remove_image",t[29]);let i=t[1]==="color-sketch"&&St(t);function _(f){t[49](f)}function u(f){t[50](f)}let h={value:t[0],mode:t[13],width:t[18]||t[22],height:t[17]||t[21],container_height:t[19]||t[21],shape:t[6]};return t[2]!==void 0&&(h.brush_radius=t[2]),t[24]!==void 0&&(h.brush_color=t[24]),a=new at({props:h}),U.push(()=>Q(a,"brush_radius",_)),U.push(()=>Q(a,"brush_color",u)),t[51](a),a.$on("change",t[27]),a.$on("clear",t[29]),{c(){B(e.$$.fragment),n=H(),i&&i.c(),r=H(),B(a.$$.fragment)},m(f,m){E(e,f,m),y(f,n,m),i&&i.m(f,m),y(f,r,m),E(a,f,m),o=!0},p(f,m){f[1]==="color-sketch"?i?(i.p(f,m),m[0]&2&&w(i,1)):(i=St(f),i.c(),w(i,1),i.m(r.parentNode,r)):i&&(te(),I(i,1,1,()=>{i=null}),ne());const k={};m[0]&1&&(k.value=f[0]),m[0]&8192&&(k.mode=f[13]),m[0]&4456448&&(k.width=f[18]||f[22]),m[0]&2228224&&(k.height=f[17]||f[21]),m[0]&2621440&&(k.container_height=f[19]||f[21]),m[0]&64&&(k.shape=f[6]),!s&&m[0]&4&&(s=!0,k.brush_radius=f[2],Z(()=>s=!1)),!l&&m[0]&16777216&&(l=!0,k.brush_color=f[24],Z(()=>l=!1)),a.$set(k)},i(f){o||(w(e.$$.fragment,f),w(i),w(a.$$.fragment,f),o=!0)},o(f){I(e.$$.fragment,f),I(i),I(a.$$.fragment,f),o=!1},d(f){R(e,f),f&&S(n),i&&i.d(f),f&&S(r),t[51](null),R(a,f)}}}function Hn(t){let e,n,r;function a(l){t[44](l)}let s={filetype:"image/*",include_file_metadata:!1,disable_click:!!t[0],$$slots:{default:[Yn]},$$scope:{ctx:t}};return t[12]!==void 0&&(s.dragging=t[12]),e=new ln({props:s}),U.push(()=>Q(e,"dragging",a)),e.$on("load",t[25]),{c(){B(e.$$.fragment)},m(l,o){E(e,l,o),r=!0},p(l,o){const i={};o[0]&1&&(i.disable_click=!!l[0]),o[0]&33550055|o[2]&16&&(i.$$scope={dirty:o,ctx:l}),!n&&o[0]&4096&&(n=!0,i.dragging=l[12],Z(()=>n=!1)),e.$set(i)},i(l){r||(w(e.$$.fragment,l),r=!0)},o(l){I(e.$$.fragment,l),r=!1},d(l){R(e,l)}}}function It(t){let e,n,r,a;return{c(){e=P("img"),g(e,"class","absolute-img svelte-1xm1dxr"),Y(e.src,n=t[23]||t[0]?.image||t[0])||g(e,"src",n),g(e,"alt","load-1"),j(e,"webcam",t[5]==="webcam"&&t[9])},m(s,l){y(s,e,l),t[57](e),r||(a=W(e,"load",t[28]),r=!0)},p(s,l){l[0]&8388609&&!Y(e.src,n=s[23]||s[0]?.image||s[0])&&g(e,"src",n),l[0]&544&&j(e,"webcam",s[5]==="webcam"&&s[9])},d(s){s&&S(e),t[57](null),r=!1,a()}}}function Ct(t){let e,n,r,a,s,l,o,i;function _(m){t[59](m)}function u(m){t[60](m)}let h={value:t[0],mode:t[13],width:t[18]||t[22],height:t[17]||t[21],container_height:t[19]||t[21],value_img:t[20],source:t[5]};t[2]!==void 0&&(h.brush_radius=t[2]),t[24]!==void 0&&(h.brush_color=t[24]),e=new at({props:h}),t[58](e),U.push(()=>Q(e,"brush_radius",_)),U.push(()=>Q(e,"brush_color",u)),e.$on("change",t[27]),s=new ot({}),s.$on("undo",t[61]),s.$on("redraw",t[62]),s.$on("clear",t[29]),s.$on("remove_image",t[29]);let f=(t[1]==="color-sketch"||t[1]==="sketch")&&At(t);return{c(){B(e.$$.fragment),a=H(),B(s.$$.fragment),l=H(),f&&f.c(),o=me()},m(m,k){E(e,m,k),y(m,a,k),E(s,m,k),y(m,l,k),f&&f.m(m,k),y(m,o,k),i=!0},p(m,k){const C={};k[0]&1&&(C.value=m[0]),k[0]&8192&&(C.mode=m[13]),k[0]&4456448&&(C.width=m[18]||m[22]),k[0]&2228224&&(C.height=m[17]||m[21]),k[0]&2621440&&(C.container_height=m[19]||m[21]),k[0]&1048576&&(C.value_img=m[20]),k[0]&32&&(C.source=m[5]),!n&&k[0]&4&&(n=!0,C.brush_radius=m[2],Z(()=>n=!1)),!r&&k[0]&16777216&&(r=!0,C.brush_color=m[24],Z(()=>r=!1)),e.$set(C),m[1]==="color-sketch"||m[1]==="sketch"?f?(f.p(m,k),k[0]&2&&w(f,1)):(f=At(m),f.c(),w(f,1),f.m(o.parentNode,o)):f&&(te(),I(f,1,1,()=>{f=null}),ne())},i(m){i||(w(e.$$.fragment,m),w(s.$$.fragment,m),w(f),i=!0)},o(m){I(e.$$.fragment,m),I(s.$$.fragment,m),I(f),i=!1},d(m){t[58](null),R(e,m),m&&S(a),R(s,m),m&&S(l),f&&f.d(m),m&&S(o)}}}function At(t){let e,n,r,a;function s(i){t[63](i)}function l(i){t[64](i)}let o={container_height:t[19]||t[21],img_width:t[18]||t[22],img_height:t[17]||t[21],mode:t[13]};return t[2]!==void 0&&(o.brush_radius=t[2]),t[24]!==void 0&&(o.brush_color=t[24]),e=new ut({props:o}),U.push(()=>Q(e,"brush_radius",s)),U.push(()=>Q(e,"brush_color",l)),{c(){B(e.$$.fragment)},m(i,_){E(e,i,_),a=!0},p(i,_){const u={};_[0]&2621440&&(u.container_height=i[19]||i[21]),_[0]&4456448&&(u.img_width=i[18]||i[22]),_[0]&2228224&&(u.img_height=i[17]||i[21]),_[0]&8192&&(u.mode=i[13]),!n&&_[0]&4&&(n=!0,u.brush_radius=i[2],Z(()=>n=!1)),!r&&_[0]&16777216&&(r=!0,u.brush_color=i[24],Z(()=>r=!1)),e.$set(u)},i(i){a||(w(e.$$.fragment,i),a=!0)},o(i){I(e.$$.fragment,i),a=!1},d(i){R(e,i)}}}function yt(t){let e,n;return e=new tn({props:{streaming:t[7],pending:t[8],mirror_webcam:t[9]}}),e.$on("capture",t[52]),e.$on("stream",t[27]),e.$on("error",t[53]),{c(){B(e.$$.fragment)},m(r,a){E(e,r,a),n=!0},p(r,a){const s={};a[0]&128&&(s.streaming=r[7]),a[0]&256&&(s.pending=r[8]),a[0]&512&&(s.mirror_webcam=r[9]),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){R(e,r)}}}function St(t){let e,n,r,a;function s(i){t[47](i)}function l(i){t[48](i)}let o={container_height:t[19]||t[21],img_width:t[18]||t[22],img_height:t[17]||t[21]};return t[2]!==void 0&&(o.brush_radius=t[2]),t[24]!==void 0&&(o.brush_color=t[24]),e=new ut({props:o}),U.push(()=>Q(e,"brush_radius",s)),U.push(()=>Q(e,"brush_color",l)),e.$on("redraw",function(){Je(t[14].redraw())&&t[14].redraw().apply(this,arguments)}),{c(){B(e.$$.fragment)},m(i,_){E(e,i,_),a=!0},p(i,_){t=i;const u={};_[0]&2621440&&(u.container_height=t[19]||t[21]),_[0]&4456448&&(u.img_width=t[18]||t[22]),_[0]&2228224&&(u.img_height=t[17]||t[21]),!n&&_[0]&4&&(n=!0,u.brush_radius=t[2],Z(()=>n=!1)),!r&&_[0]&16777216&&(r=!0,u.brush_color=t[24],Z(()=>r=!1)),e.$set(u)},i(i){a||(w(e.$$.fragment,i),a=!0)},o(i){I(e.$$.fragment,i),a=!1},d(i){R(e,i)}}}function Wn(t){let e,n,r,a;return{c(){e=P("img"),Y(e.src,n=t[0].image||t[0])||g(e,"src",n),g(e,"alt","hello"),g(e,"class","svelte-1xm1dxr"),j(e,"webcam",t[5]==="webcam"&&t[9]),j(e,"selectable",t[10])},m(s,l){y(s,e,l),r||(a=W(e,"click",t[31]),r=!0)},p(s,l){l[0]&1&&!Y(e.src,n=s[0].image||s[0])&&g(e,"src",n),l[0]&544&&j(e,"webcam",s[5]==="webcam"&&s[9]),l[0]&1024&&j(e,"selectable",s[10])},i:X,o:X,d(s){s&&S(e),r=!1,a()}}}function Pn(t){let e=t[23],n,r,a,s=vt(t),l=t[18]>0&&Mt(t);return{c(){s.c(),n=H(),l&&l.c(),r=me()},m(o,i){s.m(o,i),y(o,n,i),l&&l.m(o,i),y(o,r,i),a=!0},p(o,i){i[0]&8388608&&K(e,e=o[23])?(s.d(1),s=vt(o),s.c(),s.m(n.parentNode,n)):s.p(o,i),o[18]>0?l?(l.p(o,i),i[0]&262144&&w(l,1)):(l=Mt(o),l.c(),w(l,1),l.m(r.parentNode,r)):l&&(te(),I(l,1,1,()=>{l=null}),ne())},i(o){a||(w(l),a=!0)},o(o){I(l),a=!1},d(o){s.d(o),o&&S(n),l&&l.d(o),o&&S(r)}}}function Nn(t){let e,n,r,a,s,l,o;return e=new Ve({props:{editable:!0}}),e.$on("edit",t[35]),e.$on("clear",t[26]),{c(){B(e.$$.fragment),n=H(),r=P("img"),Y(r.src,a=t[0])||g(r,"src",a),g(r,"alt",""),g(r,"class","svelte-1xm1dxr"),j(r,"scale-x-[-1]",t[5]==="webcam"&&t[9]),j(r,"selectable",t[10])},m(i,_){E(e,i,_),y(i,n,_),y(i,r,_),s=!0,l||(o=W(r,"click",t[31]),l=!0)},p(i,_){(!s||_[0]&1&&!Y(r.src,a=i[0]))&&g(r,"src",a),(!s||_[0]&544)&&j(r,"scale-x-[-1]",i[5]==="webcam"&&i[9]),(!s||_[0]&1024)&&j(r,"selectable",i[10])},i(i){s||(w(e.$$.fragment,i),s=!0)},o(i){I(e.$$.fragment,i),s=!1},d(i){R(e,i),i&&S(n),i&&S(r),l=!1,o()}}}function Fn(t){let e,n,r,a,s={image:t[0]};return e=new Lt({props:s}),t[33](e),e.$on("crop",t[27]),r=new Ve({}),r.$on("clear",t[34]),{c(){B(e.$$.fragment),n=H(),B(r.$$.fragment)},m(l,o){E(e,l,o),y(l,n,o),E(r,l,o),a=!0},p(l,o){const i={};o[0]&1&&(i.image=l[0]),e.$set(i)},i(l){a||(w(e.$$.fragment,l),w(r.$$.fragment,l),a=!0)},o(l){I(e.$$.fragment,l),I(r.$$.fragment,l),a=!1},d(l){t[33](null),R(e,l),l&&S(n),R(r,l)}}}function Xn(t){let e;const n=t[32].default,r=Xt(n,t,t[66],null);return{c(){r&&r.c()},m(a,s){r&&r.m(a,s),e=!0},p(a,s){r&&r.p&&(!e||s[2]&16)&&Yt(r,n,a,a[66],e?Jt(n,a[66],s,null):Ot(a[66]),null)},i(a){e||(w(r,a),e=!0)},o(a){I(r,a),e=!1},d(a){r&&r.d(a)}}}function vt(t){let e,n,r,a;return{c(){e=P("img"),g(e,"class","absolute-img svelte-1xm1dxr"),Y(e.src,n=t[23]||t[0]?.image||t[0])||g(e,"src",n),g(e,"data-source",t[15]),g(e,"data-isupload",t[16]),g(e,"alt","load-2"),j(e,"webcam",t[5]==="webcam"&&t[9])},m(s,l){y(s,e,l),t[36](e),r||(a=W(e,"load",t[28]),r=!0)},p(s,l){l[0]&8388609&&!Y(e.src,n=s[23]||s[0]?.image||s[0])&&g(e,"src",n),l[0]&32768&&g(e,"data-source",s[15]),l[0]&65536&&g(e,"data-isupload",s[16]),l[0]&544&&j(e,"webcam",s[5]==="webcam"&&s[9])},d(s){s&&S(e),t[36](null),r=!1,a()}}}function Mt(t){let e,n,r,a,s,l,o,i;function _(m){t[38](m)}function u(m){t[39](m)}let h={value:t[0],mode:t[13],width:t[18]||t[22],height:t[17]||t[21],container_height:t[19]||t[21],value_img:t[20],source:t[5],shape:t[6]};t[2]!==void 0&&(h.brush_radius=t[2]),t[24]!==void 0&&(h.brush_color=t[24]),e=new at({props:h}),t[37](e),U.push(()=>Q(e,"brush_radius",_)),U.push(()=>Q(e,"brush_color",u)),e.$on("change",t[27]),e.$on("redraw",function(){Je(t[14].redraw())&&t[14].redraw().apply(this,arguments)}),s=new ot({}),s.$on("undo",t[40]),s.$on("redraw",t[41]),s.$on("clear_mask",t[30]),s.$on("remove_image",t[29]);let f=(t[1]==="color-sketch"||t[1]==="sketch")&&Tt(t);return{c(){B(e.$$.fragment),a=H(),B(s.$$.fragment),l=H(),f&&f.c(),o=me()},m(m,k){E(e,m,k),y(m,a,k),E(s,m,k),y(m,l,k),f&&f.m(m,k),y(m,o,k),i=!0},p(m,k){t=m;const C={};k[0]&1&&(C.value=t[0]),k[0]&8192&&(C.mode=t[13]),k[0]&4456448&&(C.width=t[18]||t[22]),k[0]&2228224&&(C.height=t[17]||t[21]),k[0]&2621440&&(C.container_height=t[19]||t[21]),k[0]&1048576&&(C.value_img=t[20]),k[0]&32&&(C.source=t[5]),k[0]&64&&(C.shape=t[6]),!n&&k[0]&4&&(n=!0,C.brush_radius=t[2],Z(()=>n=!1)),!r&&k[0]&16777216&&(r=!0,C.brush_color=t[24],Z(()=>r=!1)),e.$set(C),t[1]==="color-sketch"||t[1]==="sketch"?f?(f.p(t,k),k[0]&2&&w(f,1)):(f=Tt(t),f.c(),w(f,1),f.m(o.parentNode,o)):f&&(te(),I(f,1,1,()=>{f=null}),ne())},i(m){i||(w(e.$$.fragment,m),w(s.$$.fragment,m),w(f),i=!0)},o(m){I(e.$$.fragment,m),I(s.$$.fragment,m),I(f),i=!1},d(m){t[37](null),R(e,m),m&&S(a),R(s,m),m&&S(l),f&&f.d(m),m&&S(o)}}}function Tt(t){let e,n,r,a;function s(i){t[42](i)}function l(i){t[43](i)}let o={container_height:t[19]||t[21],img_width:t[18]||t[22],img_height:t[17]||t[21],mode:t[13]};return t[2]!==void 0&&(o.brush_radius=t[2]),t[24]!==void 0&&(o.brush_color=t[24]),e=new ut({props:o}),U.push(()=>Q(e,"brush_radius",s)),U.push(()=>Q(e,"brush_color",l)),e.$on("redraw",function(){Je(t[14].redraw())&&t[14].redraw().apply(this,arguments)}),{c(){B(e.$$.fragment)},m(i,_){E(e,i,_),a=!0},p(i,_){t=i;const u={};_[0]&2621440&&(u.container_height=t[19]||t[21]),_[0]&4456448&&(u.img_width=t[18]||t[22]),_[0]&2228224&&(u.img_height=t[17]||t[21]),_[0]&8192&&(u.mode=t[13]),!n&&_[0]&4&&(n=!0,u.brush_radius=t[2],Z(()=>n=!1)),!r&&_[0]&16777216&&(r=!0,u.brush_color=t[24],Z(()=>r=!1)),e.$set(u)},i(i){a||(w(e.$$.fragment,i),a=!0)},o(i){I(e.$$.fragment,i),a=!1},d(i){R(e,i)}}}function Yn(t){let e,n,r,a;const s=[Xn,Fn,Nn,Pn,Wn],l=[];function o(i,_){return i[0]===null&&!i[23]||i[7]?0:i[1]==="select"?1:i[1]==="editor"?2:(i[1]==="sketch"||i[1]==="color-sketch")&&(i[0]!==null||i[23])?3:4}return e=o(t),n=l[e]=s[e](t),{c(){n.c(),r=me()},m(i,_){l[e].m(i,_),y(i,r,_),a=!0},p(i,_){let u=e;e=o(i),e===u?l[e].p(i,_):(te(),I(l[u],1,1,()=>{l[u]=null}),ne(),n=l[e],n?n.p(i,_):(n=l[e]=s[e](i),n.c()),w(n,1),n.m(r.parentNode,r))},i(i){a||(w(n),a=!0)},o(i){I(n),a=!1},d(i){l[e].d(i),i&&S(r)}}}function On(t){let e,n,r,a,s,l,o;e=new Rt({props:{show_label:t[4],Icon:t[5]==="canvas"?ct:Oe,label:t[3]||(t[5]==="canvas"?"Sketch":"Image")}});const i=[Hn,Un,qn,jn,Ln,Dn,Rn],_=[];function u(h,f){return h[5]==="upload"?0:h[5]==="canvas"?1:h[0]===null&&!h[23]||h[7]?2:h[1]==="select"?3:h[1]==="editor"?4:(h[1]==="sketch"||h[1]==="color-sketch")&&(h[0]!==null||h[23])?5:6}return a=u(t),s=_[a]=i[a](t),{c(){B(e.$$.fragment),n=H(),r=P("div"),s.c(),g(r,"class","image-container svelte-1xm1dxr"),g(r,"data-testid","image"),st(()=>t[65].call(r))},m(h,f){E(e,h,f),y(h,n,f),y(h,r,f),_[a].m(r,null),l=Bt(r,t[65].bind(r)),o=!0},p(h,f){const m={};f[0]&16&&(m.show_label=h[4]),f[0]&32&&(m.Icon=h[5]==="canvas"?ct:Oe),f[0]&40&&(m.label=h[3]||(h[5]==="canvas"?"Sketch":"Image")),e.$set(m);let k=a;a=u(h),a===k?_[a].p(h,f):(te(),I(_[k],1,1,()=>{_[k]=null}),ne(),s=_[a],s?s.p(h,f):(s=_[a]=i[a](h),s.c()),w(s,1),s.m(r,null))},i(h){o||(w(e.$$.fragment,h),w(s),o=!0)},o(h){I(e.$$.fragment,h),I(s),o=!1},d(h){R(e,h),h&&S(n),h&&S(r),_[a].d(),l()}}}function Jn(t,e,n){let r,{$$slots:a={},$$scope:s}=e,{value:l}=e,{label:o=void 0}=e,{show_label:i}=e,{source:_="upload"}=e,{tool:u="editor"}=e,{shape:h}=e,{streaming:f=!1}=e,{pending:m=!1}=e,{mirror_webcam:k}=e,{brush_radius:C}=e,{selectable:re=!1}=e,L,M,J="",ie=!1;l&&(_==="upload"||_==="webcam")&&u==="sketch"&&(l={image:l,mask:null});function ae({detail:d}){u==="color-sketch"?n(23,$=d):n(0,l=(_==="upload"||_==="webcam")&&u==="sketch"?{image:d,mask:null}:d),n(16,ie=!0),console.log(1),localStorage.setItem("resetLines","true"),z("upload",d)}function oe({detail:d}){n(0,l=null),n(23,$=void 0),z("clear")}async function Ie({detail:d},c,A=!1){p==="mask"?_==="webcam"&&c?n(0,l={image:d,mask:null}):n(0,l={image:typeof l=="string"?l:l?.image||null,mask:d}):(_==="upload"||_==="webcam")&&u==="sketch"?n(0,l={image:d,mask:null}):(J===""&&n(15,J=d),n(0,l=d)),await ke(),z(f?"stream":"edit")}const z=we();let b=!1;function O(d){const c=d.currentTarget;n(18,fe=c.naturalWidth),n(17,ue=c.naturalHeight),n(19,_e=c.getBoundingClientRect().height)}async function N(){L.clear(),await ke(),n(0,l=null),n(23,$=void 0),n(15,J=""),n(16,ie=!1)}async function he(){L.clear_mask(),await ke()}let ue=0,fe=0,_e=0,p,V,ge,le,$;Et(async()=>{u==="color-sketch"&&l&&typeof l=="string"&&(n(23,$=l),await ke(),O({currentTarget:V}))});const ze=d=>{let c=Dt(d);c&&z("select",{index:c,value:null})};function Be(d){U[d?"unshift":"push"](()=>{M=d,n(11,M),n(0,l)})}const Ee=d=>(oe(d),n(1,u="editor")),Re=()=>n(1,u="select");function Ge(d){U[d?"unshift":"push"](()=>{V=d,n(20,V)})}function Ce(d){U[d?"unshift":"push"](()=>{L=d,n(14,L)})}function Qe(d){C=d,n(2,C)}function De(d){r=d,n(24,r),n(13,p),n(5,_),n(1,u)}const Ze=()=>L.undo(),Le=()=>L.redraw();function je(d){C=d,n(2,C)}function qe(d){r=d,n(24,r),n(13,p),n(5,_),n(1,u)}function Ue(d){b=d,n(12,b)}const He=()=>L.undo(),de=()=>L.redraw();function We(d){C=d,n(2,C)}function Ke(d){r=d,n(24,r),n(13,p),n(5,_),n(1,u)}function Pe(d){C=d,n(2,C)}function ye(d){r=d,n(24,r),n(13,p),n(5,_),n(1,u)}function Ne(d){U[d?"unshift":"push"](()=>{L=d,n(14,L)})}const $e=d=>u==="color-sketch"?ae(d):Ie(d,!0,"pizda");function Fe(d){ce.call(this,t,d)}function Se(d){U[d?"unshift":"push"](()=>{M=d,n(11,M),n(0,l)})}const se=d=>(oe(d),n(1,u="editor")),be=()=>n(1,u="select");function ve(d){U[d?"unshift":"push"](()=>{V=d,n(20,V)})}function xe(d){U[d?"unshift":"push"](()=>{L=d,n(14,L)})}function Me(d){C=d,n(2,C)}function et(d){r=d,n(24,r),n(13,p),n(5,_),n(1,u)}const Xe=()=>L.undo(),tt=()=>L.redraw();function nt(d){C=d,n(2,C)}function rt(d){r=d,n(24,r),n(13,p),n(5,_),n(1,u)}function lt(){ge=this.offsetHeight,le=this.offsetWidth,n(21,ge),n(22,le)}return t.$$set=d=>{"value"in d&&n(0,l=d.value),"label"in d&&n(3,o=d.label),"show_label"in d&&n(4,i=d.show_label),"source"in d&&n(5,_=d.source),"tool"in d&&n(1,u=d.tool),"shape"in d&&n(6,h=d.shape),"streaming"in d&&n(7,f=d.streaming),"pending"in d&&n(8,m=d.pending),"mirror_webcam"in d&&n(9,k=d.mirror_webcam),"brush_radius"in d&&n(2,C=d.brush_radius),"selectable"in d&&n(10,re=d.selectable),"$$scope"in d&&n(66,s=d.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1&&z("change",l),t.$$.dirty[0]&4096&&z("drag",b),t.$$.dirty[0]&34&&(_==="canvas"&&u==="sketch"?n(13,p="bw-sketch"):u==="color-sketch"?n(13,p="color-sketch"):(_==="upload"||_==="webcam")&&u==="sketch"?n(13,p="mask"):n(13,p="editor")),t.$$.dirty[0]&8192&&n(24,r=p=="mask"?"#000000":"#000"),t.$$.dirty[0]&1&&(l===null||l.image===null&&l.mask===null)&&n(23,$=void 0),t.$$.dirty[0]&2049&&M&&(l?(n(11,M.image=l,M),M.create()):M.destroy())},[l,u,C,o,i,_,h,f,m,k,re,M,b,p,L,J,ie,ue,fe,_e,V,ge,le,$,r,ae,oe,Ie,O,N,he,ze,a,Be,Ee,Re,Ge,Ce,Qe,De,Ze,Le,je,qe,Ue,He,de,We,Ke,Pe,ye,Ne,$e,Fe,Se,se,be,ve,xe,Me,et,Xe,tt,nt,rt,lt,s]}let Vn=class extends x{constructor(e){super(),ee(this,e,Jn,On,K,{value:0,label:3,show_label:4,source:5,tool:1,shape:6,streaming:7,pending:8,mirror_webcam:9,brush_radius:2,selectable:10},null,[-1,-1,-1])}};function Gn(t){let e,n,r,a,s,l,o,i,_;return r=new pe({props:{Icon:an,label:"Download"}}),{c(){e=P("div"),n=P("a"),B(r.$$.fragment),a=H(),s=P("img"),g(n,"href",t[0]),g(n,"target",window.__is_colab__?"_blank":null),g(n,"download","image"),g(e,"class","download svelte-ms5bsk"),Y(s.src,l=t[0])||g(s,"src",l),g(s,"alt",""),g(s,"class","svelte-ms5bsk"),j(s,"selectable",t[3])},m(u,h){y(u,e,h),F(e,n),E(r,n,null),y(u,a,h),y(u,s,h),o=!0,i||(_=W(s,"click",t[4]),i=!0)},p(u,h){(!o||h&1)&&g(n,"href",u[0]),(!o||h&1&&!Y(s.src,l=u[0]))&&g(s,"src",l),(!o||h&8)&&j(s,"selectable",u[3])},i(u){o||(w(r.$$.fragment,u),o=!0)},o(u){I(r.$$.fragment,u),o=!1},d(u){u&&S(e),R(r),u&&S(a),u&&S(s),i=!1,_()}}}function Qn(t){let e,n;return e=new sn({props:{size:"large",unpadded_box:!0,$$slots:{default:[Zn]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,a){E(e,r,a),n=!0},p(r,a){const s={};a&64&&(s.$$scope={dirty:a,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){R(e,r)}}}function Zn(t){let e,n;return e=new Oe({}),{c(){B(e.$$.fragment)},m(r,a){E(e,r,a),n=!0},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){R(e,r)}}}function Kn(t){let e,n,r,a,s,l;e=new Rt({props:{show_label:t[2],Icon:Oe,label:t[1]||"Image"}});const o=[Qn,Gn],i=[];function _(u,h){return u[0]===null?0:1}return r=_(t),a=i[r]=o[r](t),{c(){B(e.$$.fragment),n=H(),a.c(),s=me()},m(u,h){E(e,u,h),y(u,n,h),i[r].m(u,h),y(u,s,h),l=!0},p(u,[h]){const f={};h&4&&(f.show_label=u[2]),h&2&&(f.label=u[1]||"Image"),e.$set(f);let m=r;r=_(u),r===m?i[r].p(u,h):(te(),I(i[m],1,1,()=>{i[m]=null}),ne(),a=i[r],a?a.p(u,h):(a=i[r]=o[r](u),a.c()),w(a,1),a.m(s.parentNode,s))},i(u){l||(w(e.$$.fragment,u),w(a),l=!0)},o(u){I(e.$$.fragment,u),I(a),l=!1},d(u){R(e,u),u&&S(n),i[r].d(u),u&&S(s)}}}function $n(t,e,n){let{value:r}=e,{label:a=void 0}=e,{show_label:s}=e,{selectable:l=!1}=e;const o=we(),i=_=>{let u=Dt(_);u&&o("select",{index:u,value:null})};return t.$$set=_=>{"value"in _&&n(0,r=_.value),"label"in _&&n(1,a=_.label),"show_label"in _&&n(2,s=_.show_label),"selectable"in _&&n(3,l=_.selectable)},t.$$.update=()=>{t.$$.dirty&1&&r&&o("change",r)},[r,a,s,l,i]}class xn extends x{constructor(e){super(),ee(this,e,$n,Kn,K,{value:0,label:1,show_label:2,selectable:3})}}function er(t){let e,n,r;function a(l){t[19](l)}let s={brush_radius:t[14],shape:t[13],source:t[5],tool:t[6],selectable:t[15],label:t[7],show_label:t[8],pending:t[10],streaming:t[9],mirror_webcam:t[12],$$slots:{default:[nr]},$$scope:{ctx:t}};return t[0]!==void 0&&(s.value=t[0]),e=new Vn({props:s}),U.push(()=>Q(e,"value",a)),e.$on("edit",t[20]),e.$on("clear",t[21]),e.$on("change",t[22]),e.$on("stream",t[23]),e.$on("drag",t[24]),e.$on("upload",t[25]),e.$on("select",t[26]),e.$on("error",t[27]),{c(){B(e.$$.fragment)},m(l,o){E(e,l,o),r=!0},p(l,o){const i={};o&16384&&(i.brush_radius=l[14]),o&8192&&(i.shape=l[13]),o&32&&(i.source=l[5]),o&64&&(i.tool=l[6]),o&32768&&(i.selectable=l[15]),o&128&&(i.label=l[7]),o&256&&(i.show_label=l[8]),o&1024&&(i.pending=l[10]),o&512&&(i.streaming=l[9]),o&4096&&(i.mirror_webcam=l[12]),o&536870912&&(i.$$scope={dirty:o,ctx:l}),!n&&o&1&&(n=!0,i.value=l[0],Z(()=>n=!1)),e.$set(i)},i(l){r||(w(e.$$.fragment,l),r=!0)},o(l){I(e.$$.fragment,l),r=!1},d(l){R(e,l)}}}function tr(t){let e,n;return e=new xn({props:{value:t[0],label:t[7],show_label:t[8],selectable:t[15]}}),e.$on("select",t[18]),{c(){B(e.$$.fragment)},m(r,a){E(e,r,a),n=!0},p(r,a){const s={};a&1&&(s.value=r[0]),a&128&&(s.label=r[7]),a&256&&(s.show_label=r[8]),a&32768&&(s.selectable=r[15]),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){R(e,r)}}}function nr(t){let e,n;return e=new on({props:{type:"image"}}),{c(){B(e.$$.fragment)},m(r,a){E(e,r,a),n=!0},p:X,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){R(e,r)}}}function rr(t){let e,n,r,a,s,l;const o=[t[1]];let i={};for(let f=0;f<o.length;f+=1)i=Vt(i,o[f]);e=new Gt({props:i});const _=[tr,er],u=[];function h(f,m){return f[16]==="static"?0:1}return r=h(t),a=u[r]=_[r](t),{c(){B(e.$$.fragment),n=H(),a.c(),s=me()},m(f,m){E(e,f,m),y(f,n,m),u[r].m(f,m),y(f,s,m),l=!0},p(f,m){const k=m&2?Qt(o,[Zt(f[1])]):{};e.$set(k);let C=r;r=h(f),r===C?u[r].p(f,m):(te(),I(u[C],1,1,()=>{u[C]=null}),ne(),a=u[r],a?a.p(f,m):(a=u[r]=_[r](f),a.c()),w(a,1),a.m(s.parentNode,s))},i(f){l||(w(e.$$.fragment,f),w(a),l=!0)},o(f){I(e.$$.fragment,f),I(a),l=!1},d(f){R(e,f),f&&S(n),u[r].d(f),f&&S(s)}}}function lr(t){let e,n;return e=new Kt({props:{visible:t[4],variant:t[16]==="dynamic"&&t[0]===null&&t[5]==="upload"?"dashed":"solid",border_mode:t[17]?"focus":"base",padding:!1,elem_id:t[2],elem_classes:t[3],style:{height:t[11].height||(t[5]==="webcam"||t[16]==="static"?void 0:zt),width:t[11].width},allow_overflow:!1,$$slots:{default:[rr]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,a){E(e,r,a),n=!0},p(r,[a]){const s={};a&16&&(s.visible=r[4]),a&65569&&(s.variant=r[16]==="dynamic"&&r[0]===null&&r[5]==="upload"?"dashed":"solid"),a&131072&&(s.border_mode=r[17]?"focus":"base"),a&4&&(s.elem_id=r[2]),a&8&&(s.elem_classes=r[3]),a&67616&&(s.style={height:r[11].height||(r[5]==="webcam"||r[16]==="static"?void 0:zt),width:r[11].width}),a&537130979&&(s.$$scope={dirty:a,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){R(e,r)}}}const zt=240;function sr(t,e,n){let{elem_id:r=""}=e,{elem_classes:a=[]}=e,{visible:s=!0}=e,{value:l=null}=e,{source:o="upload"}=e,{tool:i="editor"}=e,{label:_}=e,{show_label:u}=e,{streaming:h}=e,{pending:f}=e,{style:m={}}=e,{mirror_webcam:k}=e,{shape:C}=e,{brush_radius:re}=e,{selectable:L=!1}=e,{loading_status:M}=e,{mode:J}=e;const ie=we();let ae;function oe(p){ce.call(this,t,p)}function Ie(p){l=p,n(0,l)}function z(p){ce.call(this,t,p)}function b(p){ce.call(this,t,p)}function O(p){ce.call(this,t,p)}function N(p){ce.call(this,t,p)}const he=({detail:p})=>n(17,ae=p);function ue(p){ce.call(this,t,p)}function fe(p){ce.call(this,t,p)}const _e=({detail:p})=>{n(1,M=M||{}),n(1,M.status="error",M),n(1,M.message=p,M)};return t.$$set=p=>{"elem_id"in p&&n(2,r=p.elem_id),"elem_classes"in p&&n(3,a=p.elem_classes),"visible"in p&&n(4,s=p.visible),"value"in p&&n(0,l=p.value),"source"in p&&n(5,o=p.source),"tool"in p&&n(6,i=p.tool),"label"in p&&n(7,_=p.label),"show_label"in p&&n(8,u=p.show_label),"streaming"in p&&n(9,h=p.streaming),"pending"in p&&n(10,f=p.pending),"style"in p&&n(11,m=p.style),"mirror_webcam"in p&&n(12,k=p.mirror_webcam),"shape"in p&&n(13,C=p.shape),"brush_radius"in p&&n(14,re=p.brush_radius),"selectable"in p&&n(15,L=p.selectable),"loading_status"in p&&n(1,M=p.loading_status),"mode"in p&&n(16,J=p.mode)},t.$$.update=()=>{t.$$.dirty&1&&n(0,l=l||null),t.$$.dirty&1&&ie("change")},[l,M,r,a,s,o,i,_,u,h,f,m,k,C,re,L,J,ae,oe,Ie,z,b,O,N,he,ue,fe,_e]}class ir extends x{constructor(e){super(),ee(this,e,sr,lr,K,{elem_id:2,elem_classes:3,visible:4,value:0,source:5,tool:6,label:7,show_label:8,streaming:9,pending:10,style:11,mirror_webcam:12,shape:13,brush_radius:14,selectable:15,loading_status:1,mode:16})}}const Ar=ir,yr=["static","dynamic"],Sr=t=>({type:{payload:"string"},description:{payload:"image data as base64 string"},example_data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg=="});export{Ar as Component,Tr as ExampleComponent,Sr as document,yr as modes};
//# sourceMappingURL=index-da04f0e5.js.map
