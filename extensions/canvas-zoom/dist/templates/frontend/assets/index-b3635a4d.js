import{S as I,i as U,s as V,B as D,C as f,g as m,E as y,F as M,q as g,G as k,H as A,D as E,r as ne,a7 as ae,a8 as se,f as F,N as G,y as p,b as oe,M as q,J as w,L as C,a0 as le,I as fe,K as ce,a9 as ue,e as J,m as K,p as H,t as L,n as R,l as re,o as _e}from"./index-c3f16193.js";import{B as de}from"./Button-f73b05a2.js";import{B as he}from"./BlockLabel-71fe1488.js";/* empty css                                                    */import{n as Y}from"./ModifyUpload.svelte_svelte_type_style_lang-ba6baa96.js";function me(a){let e,i,t;return{c(){e=D("svg"),i=D("path"),t=D("path"),f(i,"fill","currentColor"),f(i,"d","M17.74 30L16 29l4-7h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9v2H6a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-4.84Z"),f(t,"fill","currentColor"),f(t,"d","M8 10h16v2H8zm0 6h10v2H8z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(e,"aria-hidden","true"),f(e,"role","img"),f(e,"class","iconify iconify--carbon"),f(e,"width","100%"),f(e,"height","100%"),f(e,"preserveAspectRatio","xMidYMid meet"),f(e,"viewBox","0 0 32 32")},m(l,s){m(l,e,s),y(e,i),y(e,t)},p:M,i:M,o:M,d(l){l&&g(e)}}}class ge extends I{constructor(e){super(),U(this,e,null,me,V,{})}}function Z(a,e,i){const t=a.slice();return t[17]=e[i],t[19]=i,t}function j(a,e,i){const t=a.slice();return t[20]=e[i],t[22]=i,t}function O(a,e,i){const t=a.slice();return t[23]=e[i],t}function P(a){let e,i=a[0],t=[];for(let l=0;l<i.length;l+=1)t[l]=x(Z(a,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=F()},m(l,s){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(l,s);m(l,e,s)},p(l,s){if(s&85){i=l[0];let n;for(n=0;n<i.length;n+=1){const o=Z(l,i,n);t[n]?t[n].p(o,s):(t[n]=x(o),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=i.length}},d(l){G(t,l),l&&g(e)}}}function be(a){let e,i,t;return{c(){e=k("img"),C(e.src,i=a[20].data)||f(e,"src",i),f(e,"alt",t=a[20].alt_text)},m(l,s){m(l,e,s)},p(l,s){s&1&&!C(e.src,i=l[20].data)&&f(e,"src",i),s&1&&t!==(t=l[20].alt_text)&&f(e,"alt",t)},d(l){l&&g(e)}}}function ve(a){let e,i,t,l,s,n;return{c(){e=k("video"),i=k("track"),f(i,"kind","captions"),e.controls=!0,C(e.src,t=a[20].data)||f(e,"src",t),f(e,"title",l=a[20].alt_text),f(e,"preload","auto")},m(o,b){m(o,e,b),y(e,i),s||(n=[w(e,"play",a[11]),w(e,"pause",a[12]),w(e,"ended",a[13])],s=!0)},p(o,b){b&1&&!C(e.src,t=o[20].data)&&f(e,"src",t),b&1&&l!==(l=o[20].alt_text)&&f(e,"title",l)},d(o){o&&g(e),s=!1,le(n)}}}function ke(a){let e,i,t,l,s;return{c(){e=k("audio"),e.controls=!0,f(e,"preload","metadata"),C(e.src,i=a[20].data)||f(e,"src",i),f(e,"title",t=a[20].alt_text)},m(n,o){m(n,e,o),l||(s=[w(e,"play",a[8]),w(e,"pause",a[9]),w(e,"ended",a[10])],l=!0)},p(n,o){o&1&&!C(e.src,i=n[20].data)&&f(e,"src",i),o&1&&t!==(t=n[20].alt_text)&&f(e,"title",t)},d(n){n&&g(e),l=!1,le(s)}}}function pe(a){let e,i=a[20]+"",t,l,s=a[2]&&a[22]==1&&Q(a);return{c(){e=new ue(!1),t=A(),s&&s.c(),l=F(),e.a=t},m(n,o){e.m(i,n,o),m(n,t,o),s&&s.m(n,o),m(n,l,o)},p(n,o){o&1&&i!==(i=n[20]+"")&&e.p(i),n[2]&&n[22]==1?s?s.p(n,o):(s=Q(n),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(n){n&&e.d(),n&&g(t),s&&s.d(n),n&&g(l)}}}function Q(a){let e,i=a[2],t=[];for(let l=0;l<i.length;l+=1)t[l]=W(O(a,i,l));return{c(){e=k("div");for(let l=0;l<t.length;l+=1)t[l].c();f(e,"class","feedback svelte-1o68geq")},m(l,s){m(l,e,s);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null)},p(l,s){if(s&4){i=l[2];let n;for(n=0;n<i.length;n+=1){const o=O(l,i,n);t[n]?t[n].p(o,s):(t[n]=W(o),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=i.length}},d(l){l&&g(e),G(t,l)}}}function W(a){let e,i=a[23]+"",t;return{c(){e=k("button"),t=fe(i),f(e,"class","svelte-1o68geq")},m(l,s){m(l,e,s),y(e,t)},p(l,s){s&4&&i!==(i=l[23]+"")&&ce(t,i)},d(l){l&&g(e)}}}function X(a){let e,i,t,l,s,n,o;function b(d,h){if(h&1&&(i=null),h&1&&(t=null),h&1&&(l=null),typeof d[20]=="string")return pe;if(i==null&&(i=!!(d[20]!==null&&d[20].mime_type?.includes("audio"))),i)return ke;if(t==null&&(t=!!(d[20]!==null&&d[20].mime_type?.includes("video"))),t)return ve;if(l==null&&(l=!!(d[20]!==null&&d[20].mime_type?.includes("image"))),l)return be}let r=b(a,-1),_=r&&r(a);function v(){return a[14](a[19],a[22],a[20])}return{c(){e=k("div"),_&&_.c(),s=A(),f(e,"data-testid",a[22]==0?"user":"bot"),f(e,"class","message "+(a[22]==0?"user":"bot")+" svelte-1o68geq"),q(e,"latest",a[19]===a[0].length-1),q(e,"hide",a[20]===null),q(e,"selectable",a[4])},m(d,h){m(d,e,h),_&&_.m(e,null),y(e,s),n||(o=w(e,"click",v),n=!0)},p(d,h){a=d,r===(r=b(a,h))&&_?_.p(a,h):(_&&_.d(1),_=r&&r(a),_&&(_.c(),_.m(e,s))),h&1&&q(e,"latest",a[19]===a[0].length-1),h&1&&q(e,"hide",a[20]===null),h&16&&q(e,"selectable",a[4])},d(d){d&&g(e),_&&_.d(),n=!1,o()}}}function x(a){let e,i=a[17],t=[];for(let l=0;l<i.length;l+=1)t[l]=X(j(a,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=F()},m(l,s){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(l,s);m(l,e,s)},p(l,s){if(s&85){i=l[17];let n;for(n=0;n<i.length;n+=1){const o=j(l,i,n);t[n]?t[n].p(o,s):(t[n]=X(o),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=i.length}},d(l){G(t,l),l&&g(e)}}}function $(a){let e;return{c(){e=k("div"),e.innerHTML=`<div class="dot-flashing svelte-1o68geq"></div>
				 
				<div class="dot-flashing svelte-1o68geq"></div>
				 
				<div class="dot-flashing svelte-1o68geq"></div>`,f(e,"class","message pending svelte-1o68geq")},m(i,t){m(i,e,t)},d(i){i&&g(e)}}}function we(a){let e,i,t,l=a[0]!==null&&P(a),s=a[1]&&$();return{c(){e=k("div"),i=k("div"),l&&l.c(),t=A(),s&&s.c(),f(i,"class","message-wrap svelte-1o68geq"),f(e,"class","wrap svelte-1o68geq"),E(e,"height",`${a[3].height}px`),E(e,"max-height",`${a[3].height}px`)},m(n,o){m(n,e,o),y(e,i),l&&l.m(i,null),y(i,t),s&&s.m(i,null),a[15](e)},p(n,[o]){n[0]!==null?l?l.p(n,o):(l=P(n),l.c(),l.m(i,t)):l&&(l.d(1),l=null),n[1]?s||(s=$(),s.c(),s.m(i,null)):s&&(s.d(1),s=null),o&8&&E(e,"height",`${n[3].height}px`),o&8&&E(e,"max-height",`${n[3].height}px`)},i:M,o:M,d(n){n&&g(e),l&&l.d(),s&&s.d(),a[15](null)}}}function ye(a,e,i){let{value:t}=e,l=null,{pending_message:s=!1}=e,{feedback:n=null}=e,{style:o={}}=e,{selectable:b=!1}=e,r,_;const v=ne();ae(()=>{_=r&&r.offsetHeight+r.scrollTop>r.scrollHeight-100}),se(()=>{_&&(r.scrollTo(0,r.scrollHeight),r.querySelectorAll("img").forEach(u=>{u.addEventListener("load",()=>{r.scrollTo(0,r.scrollHeight)})}))});function d(u){p.call(this,a,u)}function h(u){p.call(this,a,u)}function N(u){p.call(this,a,u)}function T(u){p.call(this,a,u)}function S(u){p.call(this,a,u)}function z(u){p.call(this,a,u)}const c=(u,te,ie)=>v("select",{index:[u,te],value:ie});function B(u){oe[u?"unshift":"push"](()=>{r=u,i(5,r)})}return a.$$set=u=>{"value"in u&&i(0,t=u.value),"pending_message"in u&&i(1,s=u.pending_message),"feedback"in u&&i(2,n=u.feedback),"style"in u&&i(3,o=u.style),"selectable"in u&&i(4,b=u.selectable)},a.$$.update=()=>{a.$$.dirty&129&&t!==l&&(i(7,l=t),v("change"))},[t,s,n,o,b,r,v,l,d,h,N,T,S,z,c,B]}class qe extends I{constructor(e){super(),U(this,e,ye,we,V,{value:0,pending_message:1,feedback:2,style:3,selectable:4})}}function ee(a){let e,i;return e=new he({props:{show_label:a[5],Icon:ge,float:!1,label:a[4]||"Chatbot",disable:typeof a[3].container=="boolean"&&!a[3].container}}),{c(){J(e.$$.fragment)},m(t,l){K(e,t,l),i=!0},p(t,l){const s={};l&32&&(s.show_label=t[5]),l&16&&(s.label=t[4]||"Chatbot"),l&8&&(s.disable=typeof t[3].container=="boolean"&&!t[3].container),e.$set(s)},i(t){i||(H(e.$$.fragment,t),i=!0)},o(t){L(e.$$.fragment,t),i=!1},d(t){R(e,t)}}}function He(a){let e,i,t,l=a[5]&&ee(a);return i=new qe({props:{style:a[3],selectable:a[6],value:a[8],pending_message:a[7]?.status==="pending"}}),i.$on("change",a[12]),i.$on("select",a[13]),{c(){l&&l.c(),e=A(),J(i.$$.fragment)},m(s,n){l&&l.m(s,n),m(s,e,n),K(i,s,n),t=!0},p(s,n){s[5]?l?(l.p(s,n),n&32&&H(l,1)):(l=ee(s),l.c(),H(l,1),l.m(e.parentNode,e)):l&&(re(),L(l,1,1,()=>{l=null}),_e());const o={};n&8&&(o.style=s[3]),n&64&&(o.selectable=s[6]),n&256&&(o.value=s[8]),n&128&&(o.pending_message=s[7]?.status==="pending"),i.$set(o)},i(s){t||(H(l),H(i.$$.fragment,s),t=!0)},o(s){L(l),L(i.$$.fragment,s),t=!1},d(s){l&&l.d(s),s&&g(e),R(i,s)}}}function Ce(a){let e,i;return e=new de({props:{elem_id:a[0],elem_classes:a[1],visible:a[2],padding:!1,$$slots:{default:[He]},$$scope:{ctx:a}}}),{c(){J(e.$$.fragment)},m(t,l){K(e,t,l),i=!0},p(t,[l]){const s={};l&1&&(s.elem_id=t[0]),l&2&&(s.elem_classes=t[1]),l&4&&(s.visible=t[2]),l&33272&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){i||(H(e.$$.fragment,t),i=!0)},o(t){L(e.$$.fragment,t),i=!1},d(t){R(e,t)}}}function Be(a,e,i){let{elem_id:t=""}=e,{elem_classes:l=[]}=e,{visible:s=!0}=e,{value:n=[]}=e,o,{style:b={}}=e,{label:r}=e,{show_label:_=!0}=e,{root:v}=e,{root_url:d}=e,{selectable:h=!1}=e;const N=c=>c.replace('src="/file',`src="${v}file`);let{loading_status:T=void 0}=e;function S(c){p.call(this,a,c)}function z(c){p.call(this,a,c)}return a.$$set=c=>{"elem_id"in c&&i(0,t=c.elem_id),"elem_classes"in c&&i(1,l=c.elem_classes),"visible"in c&&i(2,s=c.visible),"value"in c&&i(9,n=c.value),"style"in c&&i(3,b=c.style),"label"in c&&i(4,r=c.label),"show_label"in c&&i(5,_=c.show_label),"root"in c&&i(10,v=c.root),"root_url"in c&&i(11,d=c.root_url),"selectable"in c&&i(6,h=c.selectable),"loading_status"in c&&i(7,T=c.loading_status)},a.$$.update=()=>{a.$$.dirty&3584&&i(8,o=n?n.map(([c,B])=>[typeof c=="string"?N(c):Y(c,v,d),typeof B=="string"?N(B):Y(B,v,d)]):[])},[t,l,s,b,r,_,h,T,o,n,v,d,S,z]}class Me extends I{constructor(e){super(),U(this,e,Be,Ce,V,{elem_id:0,elem_classes:1,visible:2,value:9,style:3,label:4,show_label:5,root:10,root_url:11,selectable:6,loading_status:7})}}const Se=Me,ze=["static"],De=a=>({type:{payload:"Array<[string, string]>"},description:{payload:"list of message pairs of"},example_data:a.value?.length?a.value:[["Hi","Hello"],["1 + 1","2"]]});export{Se as Component,De as document,ze as modes};
//# sourceMappingURL=index-b3635a4d.js.map
