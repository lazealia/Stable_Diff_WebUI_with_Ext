{"version":3,"file":"wrapper-17f133d7-769f33a9.js","sources":["../../../../js/app/__vite-browser-external","../../../../client/js/dist/wrapper-17f133d7.js"],"sourcesContent":["export default {}","import Ke from \"stream\";\nimport yt from \"zlib\";\nimport St from \"buffer\";\nimport xt from \"net\";\nimport vt from \"tls\";\nimport Se from \"crypto\";\nimport Xe from \"events\";\nimport Et from \"https\";\nimport Ze from \"http\";\nimport bt from \"url\";\nfunction Qe(s) {\n  if (s.__esModule)\n    return s;\n  var e = s.default;\n  if (typeof e == \"function\") {\n    var t = function r() {\n      if (this instanceof r) {\n        var i = [null];\n        i.push.apply(i, arguments);\n        var n = Function.bind.apply(e, i);\n        return new n();\n      }\n      return e.apply(this, arguments);\n    };\n    t.prototype = e.prototype;\n  } else\n    t = {};\n  return Object.defineProperty(t, \"__esModule\", { value: !0 }), Object.keys(s).forEach(function(r) {\n    var i = Object.getOwnPropertyDescriptor(s, r);\n    Object.defineProperty(t, r, i.get ? i : {\n      enumerable: !0,\n      get: function() {\n        return s[r];\n      }\n    });\n  }), t;\n}\nconst { Duplex: wt } = Ke;\nfunction be(s) {\n  s.emit(\"close\");\n}\nfunction kt() {\n  !this.destroyed && this._writableState.finished && this.destroy();\n}\nfunction Je(s) {\n  this.removeListener(\"error\", Je), this.destroy(), this.listenerCount(\"error\") === 0 && this.emit(\"error\", s);\n}\nfunction Ot(s, e) {\n  let t = !0;\n  const r = new wt({\n    ...e,\n    autoDestroy: !1,\n    emitClose: !1,\n    objectMode: !1,\n    writableObjectMode: !1\n  });\n  return s.on(\"message\", function(n, o) {\n    const f = !o && r._readableState.objectMode ? n.toString() : n;\n    r.push(f) || s.pause();\n  }), s.once(\"error\", function(n) {\n    r.destroyed || (t = !1, r.destroy(n));\n  }), s.once(\"close\", function() {\n    r.destroyed || r.push(null);\n  }), r._destroy = function(i, n) {\n    if (s.readyState === s.CLOSED) {\n      n(i), process.nextTick(be, r);\n      return;\n    }\n    let o = !1;\n    s.once(\"error\", function(l) {\n      o = !0, n(l);\n    }), s.once(\"close\", function() {\n      o || n(i), process.nextTick(be, r);\n    }), t && s.terminate();\n  }, r._final = function(i) {\n    if (s.readyState === s.CONNECTING) {\n      s.once(\"open\", function() {\n        r._final(i);\n      });\n      return;\n    }\n    s._socket !== null && (s._socket._writableState.finished ? (i(), r._readableState.endEmitted && r.destroy()) : (s._socket.once(\"finish\", function() {\n      i();\n    }), s.close()));\n  }, r._read = function() {\n    s.isPaused && s.resume();\n  }, r._write = function(i, n, o) {\n    if (s.readyState === s.CONNECTING) {\n      s.once(\"open\", function() {\n        r._write(i, n, o);\n      });\n      return;\n    }\n    s.send(i, o);\n  }, r.on(\"end\", kt), r.on(\"error\", Je), r;\n}\nvar Tt = Ot;\nconst cr = Tt;\nvar C = {}, Ct = {\n  get exports() {\n    return C;\n  },\n  set exports(s) {\n    C = s;\n  }\n}, U = {\n  BINARY_TYPES: [\"nodebuffer\", \"arraybuffer\", \"fragments\"],\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: \"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\",\n  kForOnEventAttribute: Symbol(\"kIsForOnEventAttribute\"),\n  kListener: Symbol(\"kListener\"),\n  kStatusCode: Symbol(\"status-code\"),\n  kWebSocket: Symbol(\"websocket\"),\n  NOOP: () => {\n  }\n};\nconst Lt = {}, Nt = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: Lt\n}, Symbol.toStringTag, { value: \"Module\" })), Pt = /* @__PURE__ */ Qe(Nt);\nvar $t, Rt;\nconst { EMPTY_BUFFER: Ut } = U, me = Buffer[Symbol.species];\nfunction Bt(s, e) {\n  if (s.length === 0)\n    return Ut;\n  if (s.length === 1)\n    return s[0];\n  const t = Buffer.allocUnsafe(e);\n  let r = 0;\n  for (let i = 0; i < s.length; i++) {\n    const n = s[i];\n    t.set(n, r), r += n.length;\n  }\n  return r < e ? new me(t.buffer, t.byteOffset, r) : t;\n}\nfunction et(s, e, t, r, i) {\n  for (let n = 0; n < i; n++)\n    t[r + n] = s[n] ^ e[n & 3];\n}\nfunction tt(s, e) {\n  for (let t = 0; t < s.length; t++)\n    s[t] ^= e[t & 3];\n}\nfunction Mt(s) {\n  return s.length === s.buffer.byteLength ? s.buffer : s.buffer.slice(s.byteOffset, s.byteOffset + s.length);\n}\nfunction ge(s) {\n  if (ge.readOnly = !0, Buffer.isBuffer(s))\n    return s;\n  let e;\n  return s instanceof ArrayBuffer ? e = new me(s) : ArrayBuffer.isView(s) ? e = new me(s.buffer, s.byteOffset, s.byteLength) : (e = Buffer.from(s), ge.readOnly = !1), e;\n}\nCt.exports = {\n  concat: Bt,\n  mask: et,\n  toArrayBuffer: Mt,\n  toBuffer: ge,\n  unmask: tt\n};\nif (!process.env.WS_NO_BUFFER_UTIL)\n  try {\n    const s = Pt;\n    Rt = C.mask = function(e, t, r, i, n) {\n      n < 48 ? et(e, t, r, i, n) : s.mask(e, t, r, i, n);\n    }, $t = C.unmask = function(e, t) {\n      e.length < 32 ? tt(e, t) : s.unmask(e, t);\n    };\n  } catch {\n  }\nconst we = Symbol(\"kDone\"), fe = Symbol(\"kRun\");\nlet It = class {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(e) {\n    this[we] = () => {\n      this.pending--, this[fe]();\n    }, this.concurrency = e || 1 / 0, this.jobs = [], this.pending = 0;\n  }\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(e) {\n    this.jobs.push(e), this[fe]();\n  }\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [fe]() {\n    if (this.pending !== this.concurrency && this.jobs.length) {\n      const e = this.jobs.shift();\n      this.pending++, e(this[we]);\n    }\n  }\n};\nvar Dt = It;\nconst A = yt, ke = C, Wt = Dt, { kStatusCode: st } = U, At = Buffer[Symbol.species], Ft = Buffer.from([0, 0, 255, 255]), te = Symbol(\"permessage-deflate\"), w = Symbol(\"total-length\"), H = Symbol(\"callback\"), O = Symbol(\"buffers\"), J = Symbol(\"error\");\nlet K, jt = class {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(e, t, r) {\n    if (this._maxPayload = r | 0, this._options = e || {}, this._threshold = this._options.threshold !== void 0 ? this._options.threshold : 1024, this._isServer = !!t, this._deflate = null, this._inflate = null, this.params = null, !K) {\n      const i = this._options.concurrencyLimit !== void 0 ? this._options.concurrencyLimit : 10;\n      K = new Wt(i);\n    }\n  }\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return \"permessage-deflate\";\n  }\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const e = {};\n    return this._options.serverNoContextTakeover && (e.server_no_context_takeover = !0), this._options.clientNoContextTakeover && (e.client_no_context_takeover = !0), this._options.serverMaxWindowBits && (e.server_max_window_bits = this._options.serverMaxWindowBits), this._options.clientMaxWindowBits ? e.client_max_window_bits = this._options.clientMaxWindowBits : this._options.clientMaxWindowBits == null && (e.client_max_window_bits = !0), e;\n  }\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(e) {\n    return e = this.normalizeParams(e), this.params = this._isServer ? this.acceptAsServer(e) : this.acceptAsClient(e), this.params;\n  }\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate && (this._inflate.close(), this._inflate = null), this._deflate) {\n      const e = this._deflate[H];\n      this._deflate.close(), this._deflate = null, e && e(\n        new Error(\n          \"The deflate stream was closed while data was being processed\"\n        )\n      );\n    }\n  }\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(e) {\n    const t = this._options, r = e.find((i) => !(t.serverNoContextTakeover === !1 && i.server_no_context_takeover || i.server_max_window_bits && (t.serverMaxWindowBits === !1 || typeof t.serverMaxWindowBits == \"number\" && t.serverMaxWindowBits > i.server_max_window_bits) || typeof t.clientMaxWindowBits == \"number\" && !i.client_max_window_bits));\n    if (!r)\n      throw new Error(\"None of the extension offers can be accepted\");\n    return t.serverNoContextTakeover && (r.server_no_context_takeover = !0), t.clientNoContextTakeover && (r.client_no_context_takeover = !0), typeof t.serverMaxWindowBits == \"number\" && (r.server_max_window_bits = t.serverMaxWindowBits), typeof t.clientMaxWindowBits == \"number\" ? r.client_max_window_bits = t.clientMaxWindowBits : (r.client_max_window_bits === !0 || t.clientMaxWindowBits === !1) && delete r.client_max_window_bits, r;\n  }\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(e) {\n    const t = e[0];\n    if (this._options.clientNoContextTakeover === !1 && t.client_no_context_takeover)\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    if (!t.client_max_window_bits)\n      typeof this._options.clientMaxWindowBits == \"number\" && (t.client_max_window_bits = this._options.clientMaxWindowBits);\n    else if (this._options.clientMaxWindowBits === !1 || typeof this._options.clientMaxWindowBits == \"number\" && t.client_max_window_bits > this._options.clientMaxWindowBits)\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    return t;\n  }\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(e) {\n    return e.forEach((t) => {\n      Object.keys(t).forEach((r) => {\n        let i = t[r];\n        if (i.length > 1)\n          throw new Error(`Parameter \"${r}\" must have only a single value`);\n        if (i = i[0], r === \"client_max_window_bits\") {\n          if (i !== !0) {\n            const n = +i;\n            if (!Number.isInteger(n) || n < 8 || n > 15)\n              throw new TypeError(\n                `Invalid value for parameter \"${r}\": ${i}`\n              );\n            i = n;\n          } else if (!this._isServer)\n            throw new TypeError(\n              `Invalid value for parameter \"${r}\": ${i}`\n            );\n        } else if (r === \"server_max_window_bits\") {\n          const n = +i;\n          if (!Number.isInteger(n) || n < 8 || n > 15)\n            throw new TypeError(\n              `Invalid value for parameter \"${r}\": ${i}`\n            );\n          i = n;\n        } else if (r === \"client_no_context_takeover\" || r === \"server_no_context_takeover\") {\n          if (i !== !0)\n            throw new TypeError(\n              `Invalid value for parameter \"${r}\": ${i}`\n            );\n        } else\n          throw new Error(`Unknown parameter \"${r}\"`);\n        t[r] = i;\n      });\n    }), e;\n  }\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(e, t, r) {\n    K.add((i) => {\n      this._decompress(e, t, (n, o) => {\n        i(), r(n, o);\n      });\n    });\n  }\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(e, t, r) {\n    K.add((i) => {\n      this._compress(e, t, (n, o) => {\n        i(), r(n, o);\n      });\n    });\n  }\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(e, t, r) {\n    const i = this._isServer ? \"client\" : \"server\";\n    if (!this._inflate) {\n      const n = `${i}_max_window_bits`, o = typeof this.params[n] != \"number\" ? A.Z_DEFAULT_WINDOWBITS : this.params[n];\n      this._inflate = A.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits: o\n      }), this._inflate[te] = this, this._inflate[w] = 0, this._inflate[O] = [], this._inflate.on(\"error\", Vt), this._inflate.on(\"data\", rt);\n    }\n    this._inflate[H] = r, this._inflate.write(e), t && this._inflate.write(Ft), this._inflate.flush(() => {\n      const n = this._inflate[J];\n      if (n) {\n        this._inflate.close(), this._inflate = null, r(n);\n        return;\n      }\n      const o = ke.concat(\n        this._inflate[O],\n        this._inflate[w]\n      );\n      this._inflate._readableState.endEmitted ? (this._inflate.close(), this._inflate = null) : (this._inflate[w] = 0, this._inflate[O] = [], t && this.params[`${i}_no_context_takeover`] && this._inflate.reset()), r(null, o);\n    });\n  }\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(e, t, r) {\n    const i = this._isServer ? \"server\" : \"client\";\n    if (!this._deflate) {\n      const n = `${i}_max_window_bits`, o = typeof this.params[n] != \"number\" ? A.Z_DEFAULT_WINDOWBITS : this.params[n];\n      this._deflate = A.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits: o\n      }), this._deflate[w] = 0, this._deflate[O] = [], this._deflate.on(\"data\", Gt);\n    }\n    this._deflate[H] = r, this._deflate.write(e), this._deflate.flush(A.Z_SYNC_FLUSH, () => {\n      if (!this._deflate)\n        return;\n      let n = ke.concat(\n        this._deflate[O],\n        this._deflate[w]\n      );\n      t && (n = new At(n.buffer, n.byteOffset, n.length - 4)), this._deflate[H] = null, this._deflate[w] = 0, this._deflate[O] = [], t && this.params[`${i}_no_context_takeover`] && this._deflate.reset(), r(null, n);\n    });\n  }\n};\nvar re = jt;\nfunction Gt(s) {\n  this[O].push(s), this[w] += s.length;\n}\nfunction rt(s) {\n  if (this[w] += s.length, this[te]._maxPayload < 1 || this[w] <= this[te]._maxPayload) {\n    this[O].push(s);\n    return;\n  }\n  this[J] = new RangeError(\"Max payload size exceeded\"), this[J].code = \"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH\", this[J][st] = 1009, this.removeListener(\"data\", rt), this.reset();\n}\nfunction Vt(s) {\n  this[te]._inflate = null, s[st] = 1007, this[H](s);\n}\nvar L = {}, Ht = {\n  get exports() {\n    return L;\n  },\n  set exports(s) {\n    L = s;\n  }\n};\nconst zt = {}, qt = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: zt\n}, Symbol.toStringTag, { value: \"Module\" })), Yt = /* @__PURE__ */ Qe(qt);\nvar Oe;\nconst { isUtf8: Te } = St, Kt = [\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  // 0 - 15\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  // 16 - 31\n  0,\n  1,\n  0,\n  1,\n  1,\n  1,\n  1,\n  1,\n  0,\n  0,\n  1,\n  1,\n  0,\n  1,\n  1,\n  0,\n  // 32 - 47\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  // 48 - 63\n  0,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  // 64 - 79\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  0,\n  0,\n  0,\n  1,\n  1,\n  // 80 - 95\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  // 96 - 111\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  1,\n  0,\n  1,\n  0,\n  1,\n  0\n  // 112 - 127\n];\nfunction Xt(s) {\n  return s >= 1e3 && s <= 1014 && s !== 1004 && s !== 1005 && s !== 1006 || s >= 3e3 && s <= 4999;\n}\nfunction ye(s) {\n  const e = s.length;\n  let t = 0;\n  for (; t < e; )\n    if (!(s[t] & 128))\n      t++;\n    else if ((s[t] & 224) === 192) {\n      if (t + 1 === e || (s[t + 1] & 192) !== 128 || (s[t] & 254) === 192)\n        return !1;\n      t += 2;\n    } else if ((s[t] & 240) === 224) {\n      if (t + 2 >= e || (s[t + 1] & 192) !== 128 || (s[t + 2] & 192) !== 128 || s[t] === 224 && (s[t + 1] & 224) === 128 || // Overlong\n      s[t] === 237 && (s[t + 1] & 224) === 160)\n        return !1;\n      t += 3;\n    } else if ((s[t] & 248) === 240) {\n      if (t + 3 >= e || (s[t + 1] & 192) !== 128 || (s[t + 2] & 192) !== 128 || (s[t + 3] & 192) !== 128 || s[t] === 240 && (s[t + 1] & 240) === 128 || // Overlong\n      s[t] === 244 && s[t + 1] > 143 || s[t] > 244)\n        return !1;\n      t += 4;\n    } else\n      return !1;\n  return !0;\n}\nHt.exports = {\n  isValidStatusCode: Xt,\n  isValidUTF8: ye,\n  tokenChars: Kt\n};\nif (Te)\n  Oe = L.isValidUTF8 = function(s) {\n    return s.length < 24 ? ye(s) : Te(s);\n  };\nelse if (!process.env.WS_NO_UTF_8_VALIDATE)\n  try {\n    const s = Yt;\n    Oe = L.isValidUTF8 = function(e) {\n      return e.length < 32 ? ye(e) : s(e);\n    };\n  } catch {\n  }\nconst { Writable: Zt } = Ke, Ce = re, {\n  BINARY_TYPES: Qt,\n  EMPTY_BUFFER: Le,\n  kStatusCode: Jt,\n  kWebSocket: es\n} = U, { concat: le, toArrayBuffer: ts, unmask: ss } = C, { isValidStatusCode: rs, isValidUTF8: Ne } = L, X = Buffer[Symbol.species], F = 0, Pe = 1, $e = 2, Re = 3, ce = 4, is = 5;\nlet ns = class extends Zt {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(e = {}) {\n    super(), this._binaryType = e.binaryType || Qt[0], this._extensions = e.extensions || {}, this._isServer = !!e.isServer, this._maxPayload = e.maxPayload | 0, this._skipUTF8Validation = !!e.skipUTF8Validation, this[es] = void 0, this._bufferedBytes = 0, this._buffers = [], this._compressed = !1, this._payloadLength = 0, this._mask = void 0, this._fragmented = 0, this._masked = !1, this._fin = !1, this._opcode = 0, this._totalPayloadLength = 0, this._messageLength = 0, this._fragments = [], this._state = F, this._loop = !1;\n  }\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(e, t, r) {\n    if (this._opcode === 8 && this._state == F)\n      return r();\n    this._bufferedBytes += e.length, this._buffers.push(e), this.startLoop(r);\n  }\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(e) {\n    if (this._bufferedBytes -= e, e === this._buffers[0].length)\n      return this._buffers.shift();\n    if (e < this._buffers[0].length) {\n      const r = this._buffers[0];\n      return this._buffers[0] = new X(\n        r.buffer,\n        r.byteOffset + e,\n        r.length - e\n      ), new X(r.buffer, r.byteOffset, e);\n    }\n    const t = Buffer.allocUnsafe(e);\n    do {\n      const r = this._buffers[0], i = t.length - e;\n      e >= r.length ? t.set(this._buffers.shift(), i) : (t.set(new Uint8Array(r.buffer, r.byteOffset, e), i), this._buffers[0] = new X(\n        r.buffer,\n        r.byteOffset + e,\n        r.length - e\n      )), e -= r.length;\n    } while (e > 0);\n    return t;\n  }\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(e) {\n    let t;\n    this._loop = !0;\n    do\n      switch (this._state) {\n        case F:\n          t = this.getInfo();\n          break;\n        case Pe:\n          t = this.getPayloadLength16();\n          break;\n        case $e:\n          t = this.getPayloadLength64();\n          break;\n        case Re:\n          this.getMask();\n          break;\n        case ce:\n          t = this.getData(e);\n          break;\n        default:\n          this._loop = !1;\n          return;\n      }\n    while (this._loop);\n    e(t);\n  }\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo() {\n    if (this._bufferedBytes < 2) {\n      this._loop = !1;\n      return;\n    }\n    const e = this.consume(2);\n    if (e[0] & 48)\n      return this._loop = !1, g(\n        RangeError,\n        \"RSV2 and RSV3 must be clear\",\n        !0,\n        1002,\n        \"WS_ERR_UNEXPECTED_RSV_2_3\"\n      );\n    const t = (e[0] & 64) === 64;\n    if (t && !this._extensions[Ce.extensionName])\n      return this._loop = !1, g(\n        RangeError,\n        \"RSV1 must be clear\",\n        !0,\n        1002,\n        \"WS_ERR_UNEXPECTED_RSV_1\"\n      );\n    if (this._fin = (e[0] & 128) === 128, this._opcode = e[0] & 15, this._payloadLength = e[1] & 127, this._opcode === 0) {\n      if (t)\n        return this._loop = !1, g(\n          RangeError,\n          \"RSV1 must be clear\",\n          !0,\n          1002,\n          \"WS_ERR_UNEXPECTED_RSV_1\"\n        );\n      if (!this._fragmented)\n        return this._loop = !1, g(\n          RangeError,\n          \"invalid opcode 0\",\n          !0,\n          1002,\n          \"WS_ERR_INVALID_OPCODE\"\n        );\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 1 || this._opcode === 2) {\n      if (this._fragmented)\n        return this._loop = !1, g(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          !0,\n          1002,\n          \"WS_ERR_INVALID_OPCODE\"\n        );\n      this._compressed = t;\n    } else if (this._opcode > 7 && this._opcode < 11) {\n      if (!this._fin)\n        return this._loop = !1, g(\n          RangeError,\n          \"FIN must be set\",\n          !0,\n          1002,\n          \"WS_ERR_EXPECTED_FIN\"\n        );\n      if (t)\n        return this._loop = !1, g(\n          RangeError,\n          \"RSV1 must be clear\",\n          !0,\n          1002,\n          \"WS_ERR_UNEXPECTED_RSV_1\"\n        );\n      if (this._payloadLength > 125 || this._opcode === 8 && this._payloadLength === 1)\n        return this._loop = !1, g(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          !0,\n          1002,\n          \"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH\"\n        );\n    } else\n      return this._loop = !1, g(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        !0,\n        1002,\n        \"WS_ERR_INVALID_OPCODE\"\n      );\n    if (!this._fin && !this._fragmented && (this._fragmented = this._opcode), this._masked = (e[1] & 128) === 128, this._isServer) {\n      if (!this._masked)\n        return this._loop = !1, g(\n          RangeError,\n          \"MASK must be set\",\n          !0,\n          1002,\n          \"WS_ERR_EXPECTED_MASK\"\n        );\n    } else if (this._masked)\n      return this._loop = !1, g(\n        RangeError,\n        \"MASK must be clear\",\n        !0,\n        1002,\n        \"WS_ERR_UNEXPECTED_MASK\"\n      );\n    if (this._payloadLength === 126)\n      this._state = Pe;\n    else if (this._payloadLength === 127)\n      this._state = $e;\n    else\n      return this.haveLength();\n  }\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16() {\n    if (this._bufferedBytes < 2) {\n      this._loop = !1;\n      return;\n    }\n    return this._payloadLength = this.consume(2).readUInt16BE(0), this.haveLength();\n  }\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64() {\n    if (this._bufferedBytes < 8) {\n      this._loop = !1;\n      return;\n    }\n    const e = this.consume(8), t = e.readUInt32BE(0);\n    return t > Math.pow(2, 53 - 32) - 1 ? (this._loop = !1, g(\n      RangeError,\n      \"Unsupported WebSocket frame: payload length > 2^53 - 1\",\n      !1,\n      1009,\n      \"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH\"\n    )) : (this._payloadLength = t * Math.pow(2, 32) + e.readUInt32BE(4), this.haveLength());\n  }\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength() {\n    if (this._payloadLength && this._opcode < 8 && (this._totalPayloadLength += this._payloadLength, this._totalPayloadLength > this._maxPayload && this._maxPayload > 0))\n      return this._loop = !1, g(\n        RangeError,\n        \"Max payload size exceeded\",\n        !1,\n        1009,\n        \"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH\"\n      );\n    this._masked ? this._state = Re : this._state = ce;\n  }\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = !1;\n      return;\n    }\n    this._mask = this.consume(4), this._state = ce;\n  }\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData(e) {\n    let t = Le;\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = !1;\n        return;\n      }\n      t = this.consume(this._payloadLength), this._masked && this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3] && ss(t, this._mask);\n    }\n    if (this._opcode > 7)\n      return this.controlMessage(t);\n    if (this._compressed) {\n      this._state = is, this.decompress(t, e);\n      return;\n    }\n    return t.length && (this._messageLength = this._totalPayloadLength, this._fragments.push(t)), this.dataMessage();\n  }\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(e, t) {\n    this._extensions[Ce.extensionName].decompress(e, this._fin, (i, n) => {\n      if (i)\n        return t(i);\n      if (n.length) {\n        if (this._messageLength += n.length, this._messageLength > this._maxPayload && this._maxPayload > 0)\n          return t(\n            g(\n              RangeError,\n              \"Max payload size exceeded\",\n              !1,\n              1009,\n              \"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH\"\n            )\n          );\n        this._fragments.push(n);\n      }\n      const o = this.dataMessage();\n      if (o)\n        return t(o);\n      this.startLoop(t);\n    });\n  }\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage() {\n    if (this._fin) {\n      const e = this._messageLength, t = this._fragments;\n      if (this._totalPayloadLength = 0, this._messageLength = 0, this._fragmented = 0, this._fragments = [], this._opcode === 2) {\n        let r;\n        this._binaryType === \"nodebuffer\" ? r = le(t, e) : this._binaryType === \"arraybuffer\" ? r = ts(le(t, e)) : r = t, this.emit(\"message\", r, !0);\n      } else {\n        const r = le(t, e);\n        if (!this._skipUTF8Validation && !Ne(r))\n          return this._loop = !1, g(\n            Error,\n            \"invalid UTF-8 sequence\",\n            !0,\n            1007,\n            \"WS_ERR_INVALID_UTF8\"\n          );\n        this.emit(\"message\", r, !1);\n      }\n    }\n    this._state = F;\n  }\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(e) {\n    if (this._opcode === 8)\n      if (this._loop = !1, e.length === 0)\n        this.emit(\"conclude\", 1005, Le), this.end();\n      else {\n        const t = e.readUInt16BE(0);\n        if (!rs(t))\n          return g(\n            RangeError,\n            `invalid status code ${t}`,\n            !0,\n            1002,\n            \"WS_ERR_INVALID_CLOSE_CODE\"\n          );\n        const r = new X(\n          e.buffer,\n          e.byteOffset + 2,\n          e.length - 2\n        );\n        if (!this._skipUTF8Validation && !Ne(r))\n          return g(\n            Error,\n            \"invalid UTF-8 sequence\",\n            !0,\n            1007,\n            \"WS_ERR_INVALID_UTF8\"\n          );\n        this.emit(\"conclude\", t, r), this.end();\n      }\n    else\n      this._opcode === 9 ? this.emit(\"ping\", e) : this.emit(\"pong\", e);\n    this._state = F;\n  }\n};\nvar it = ns;\nfunction g(s, e, t, r, i) {\n  const n = new s(\n    t ? `Invalid WebSocket frame: ${e}` : e\n  );\n  return Error.captureStackTrace(n, g), n.code = i, n[Jt] = r, n;\n}\nconst _r = it, { randomFillSync: os } = Se, Ue = re, { EMPTY_BUFFER: as } = U, { isValidStatusCode: fs } = L, { mask: Be, toBuffer: I } = C, E = Symbol(\"kByteLength\"), ls = Buffer.alloc(4);\nlet cs = class $ {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(e, t, r) {\n    this._extensions = t || {}, r && (this._generateMask = r, this._maskBuffer = Buffer.alloc(4)), this._socket = e, this._firstFragment = !0, this._compress = !1, this._bufferedBytes = 0, this._deflating = !1, this._queue = [];\n  }\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(e, t) {\n    let r, i = !1, n = 2, o = !1;\n    t.mask && (r = t.maskBuffer || ls, t.generateMask ? t.generateMask(r) : os(r, 0, 4), o = (r[0] | r[1] | r[2] | r[3]) === 0, n = 6);\n    let f;\n    typeof e == \"string\" ? (!t.mask || o) && t[E] !== void 0 ? f = t[E] : (e = Buffer.from(e), f = e.length) : (f = e.length, i = t.mask && t.readOnly && !o);\n    let l = f;\n    f >= 65536 ? (n += 8, l = 127) : f > 125 && (n += 2, l = 126);\n    const a = Buffer.allocUnsafe(i ? f + n : n);\n    return a[0] = t.fin ? t.opcode | 128 : t.opcode, t.rsv1 && (a[0] |= 64), a[1] = l, l === 126 ? a.writeUInt16BE(f, 2) : l === 127 && (a[2] = a[3] = 0, a.writeUIntBE(f, 4, 6)), t.mask ? (a[1] |= 128, a[n - 4] = r[0], a[n - 3] = r[1], a[n - 2] = r[2], a[n - 1] = r[3], o ? [a, e] : i ? (Be(e, r, a, n, f), [a]) : (Be(e, r, e, 0, f), [a, e])) : [a, e];\n  }\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(e, t, r, i) {\n    let n;\n    if (e === void 0)\n      n = as;\n    else {\n      if (typeof e != \"number\" || !fs(e))\n        throw new TypeError(\"First argument must be a valid error code number\");\n      if (t === void 0 || !t.length)\n        n = Buffer.allocUnsafe(2), n.writeUInt16BE(e, 0);\n      else {\n        const f = Buffer.byteLength(t);\n        if (f > 123)\n          throw new RangeError(\"The message must not be greater than 123 bytes\");\n        n = Buffer.allocUnsafe(2 + f), n.writeUInt16BE(e, 0), typeof t == \"string\" ? n.write(t, 2) : n.set(t, 2);\n      }\n    }\n    const o = {\n      [E]: n.length,\n      fin: !0,\n      generateMask: this._generateMask,\n      mask: r,\n      maskBuffer: this._maskBuffer,\n      opcode: 8,\n      readOnly: !1,\n      rsv1: !1\n    };\n    this._deflating ? this.enqueue([this.dispatch, n, !1, o, i]) : this.sendFrame($.frame(n, o), i);\n  }\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(e, t, r) {\n    let i, n;\n    if (typeof e == \"string\" ? (i = Buffer.byteLength(e), n = !1) : (e = I(e), i = e.length, n = I.readOnly), i > 125)\n      throw new RangeError(\"The data size must not be greater than 125 bytes\");\n    const o = {\n      [E]: i,\n      fin: !0,\n      generateMask: this._generateMask,\n      mask: t,\n      maskBuffer: this._maskBuffer,\n      opcode: 9,\n      readOnly: n,\n      rsv1: !1\n    };\n    this._deflating ? this.enqueue([this.dispatch, e, !1, o, r]) : this.sendFrame($.frame(e, o), r);\n  }\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(e, t, r) {\n    let i, n;\n    if (typeof e == \"string\" ? (i = Buffer.byteLength(e), n = !1) : (e = I(e), i = e.length, n = I.readOnly), i > 125)\n      throw new RangeError(\"The data size must not be greater than 125 bytes\");\n    const o = {\n      [E]: i,\n      fin: !0,\n      generateMask: this._generateMask,\n      mask: t,\n      maskBuffer: this._maskBuffer,\n      opcode: 10,\n      readOnly: n,\n      rsv1: !1\n    };\n    this._deflating ? this.enqueue([this.dispatch, e, !1, o, r]) : this.sendFrame($.frame(e, o), r);\n  }\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(e, t, r) {\n    const i = this._extensions[Ue.extensionName];\n    let n = t.binary ? 2 : 1, o = t.compress, f, l;\n    if (typeof e == \"string\" ? (f = Buffer.byteLength(e), l = !1) : (e = I(e), f = e.length, l = I.readOnly), this._firstFragment ? (this._firstFragment = !1, o && i && i.params[i._isServer ? \"server_no_context_takeover\" : \"client_no_context_takeover\"] && (o = f >= i._threshold), this._compress = o) : (o = !1, n = 0), t.fin && (this._firstFragment = !0), i) {\n      const a = {\n        [E]: f,\n        fin: t.fin,\n        generateMask: this._generateMask,\n        mask: t.mask,\n        maskBuffer: this._maskBuffer,\n        opcode: n,\n        readOnly: l,\n        rsv1: o\n      };\n      this._deflating ? this.enqueue([this.dispatch, e, this._compress, a, r]) : this.dispatch(e, this._compress, a, r);\n    } else\n      this.sendFrame(\n        $.frame(e, {\n          [E]: f,\n          fin: t.fin,\n          generateMask: this._generateMask,\n          mask: t.mask,\n          maskBuffer: this._maskBuffer,\n          opcode: n,\n          readOnly: l,\n          rsv1: !1\n        }),\n        r\n      );\n  }\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(e, t, r, i) {\n    if (!t) {\n      this.sendFrame($.frame(e, r), i);\n      return;\n    }\n    const n = this._extensions[Ue.extensionName];\n    this._bufferedBytes += r[E], this._deflating = !0, n.compress(e, r.fin, (o, f) => {\n      if (this._socket.destroyed) {\n        const l = new Error(\n          \"The socket was closed while data was being compressed\"\n        );\n        typeof i == \"function\" && i(l);\n        for (let a = 0; a < this._queue.length; a++) {\n          const h = this._queue[a], c = h[h.length - 1];\n          typeof c == \"function\" && c(l);\n        }\n        return;\n      }\n      this._bufferedBytes -= r[E], this._deflating = !1, r.readOnly = !1, this.sendFrame($.frame(f, r), i), this.dequeue();\n    });\n  }\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    for (; !this._deflating && this._queue.length; ) {\n      const e = this._queue.shift();\n      this._bufferedBytes -= e[3][E], Reflect.apply(e[0], this, e.slice(1));\n    }\n  }\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(e) {\n    this._bufferedBytes += e[3][E], this._queue.push(e);\n  }\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(e, t) {\n    e.length === 2 ? (this._socket.cork(), this._socket.write(e[0]), this._socket.write(e[1], t), this._socket.uncork()) : this._socket.write(e[0], t);\n  }\n};\nvar nt = cs;\nconst pr = nt, { kForOnEventAttribute: j, kListener: he } = U, Me = Symbol(\"kCode\"), Ie = Symbol(\"kData\"), De = Symbol(\"kError\"), We = Symbol(\"kMessage\"), Ae = Symbol(\"kReason\"), D = Symbol(\"kTarget\"), Fe = Symbol(\"kType\"), je = Symbol(\"kWasClean\");\nclass B {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(e) {\n    this[D] = null, this[Fe] = e;\n  }\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[D];\n  }\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[Fe];\n  }\n}\nObject.defineProperty(B.prototype, \"target\", { enumerable: !0 });\nObject.defineProperty(B.prototype, \"type\", { enumerable: !0 });\nclass q extends B {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(e, t = {}) {\n    super(e), this[Me] = t.code === void 0 ? 0 : t.code, this[Ae] = t.reason === void 0 ? \"\" : t.reason, this[je] = t.wasClean === void 0 ? !1 : t.wasClean;\n  }\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[Me];\n  }\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[Ae];\n  }\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[je];\n  }\n}\nObject.defineProperty(q.prototype, \"code\", { enumerable: !0 });\nObject.defineProperty(q.prototype, \"reason\", { enumerable: !0 });\nObject.defineProperty(q.prototype, \"wasClean\", { enumerable: !0 });\nclass ie extends B {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(e, t = {}) {\n    super(e), this[De] = t.error === void 0 ? null : t.error, this[We] = t.message === void 0 ? \"\" : t.message;\n  }\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[De];\n  }\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[We];\n  }\n}\nObject.defineProperty(ie.prototype, \"error\", { enumerable: !0 });\nObject.defineProperty(ie.prototype, \"message\", { enumerable: !0 });\nclass xe extends B {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(e, t = {}) {\n    super(e), this[Ie] = t.data === void 0 ? null : t.data;\n  }\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[Ie];\n  }\n}\nObject.defineProperty(xe.prototype, \"data\", { enumerable: !0 });\nconst hs = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(s, e, t = {}) {\n    for (const i of this.listeners(s))\n      if (!t[j] && i[he] === e && !i[j])\n        return;\n    let r;\n    if (s === \"message\")\n      r = function(n, o) {\n        const f = new xe(\"message\", {\n          data: o ? n : n.toString()\n        });\n        f[D] = this, Z(e, this, f);\n      };\n    else if (s === \"close\")\n      r = function(n, o) {\n        const f = new q(\"close\", {\n          code: n,\n          reason: o.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n        f[D] = this, Z(e, this, f);\n      };\n    else if (s === \"error\")\n      r = function(n) {\n        const o = new ie(\"error\", {\n          error: n,\n          message: n.message\n        });\n        o[D] = this, Z(e, this, o);\n      };\n    else if (s === \"open\")\n      r = function() {\n        const n = new B(\"open\");\n        n[D] = this, Z(e, this, n);\n      };\n    else\n      return;\n    r[j] = !!t[j], r[he] = e, t.once ? this.once(s, r) : this.on(s, r);\n  },\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(s, e) {\n    for (const t of this.listeners(s))\n      if (t[he] === e && !t[j]) {\n        this.removeListener(s, t);\n        break;\n      }\n  }\n};\nvar us = {\n  CloseEvent: q,\n  ErrorEvent: ie,\n  Event: B,\n  EventTarget: hs,\n  MessageEvent: xe\n};\nfunction Z(s, e, t) {\n  typeof s == \"object\" && s.handleEvent ? s.handleEvent.call(s, t) : s.call(e, t);\n}\nconst { tokenChars: G } = L;\nfunction b(s, e, t) {\n  s[e] === void 0 ? s[e] = [t] : s[e].push(t);\n}\nfunction ds(s) {\n  const e = /* @__PURE__ */ Object.create(null);\n  let t = /* @__PURE__ */ Object.create(null), r = !1, i = !1, n = !1, o, f, l = -1, a = -1, h = -1, c = 0;\n  for (; c < s.length; c++)\n    if (a = s.charCodeAt(c), o === void 0)\n      if (h === -1 && G[a] === 1)\n        l === -1 && (l = c);\n      else if (c !== 0 && (a === 32 || a === 9))\n        h === -1 && l !== -1 && (h = c);\n      else if (a === 59 || a === 44) {\n        if (l === -1)\n          throw new SyntaxError(`Unexpected character at index ${c}`);\n        h === -1 && (h = c);\n        const S = s.slice(l, h);\n        a === 44 ? (b(e, S, t), t = /* @__PURE__ */ Object.create(null)) : o = S, l = h = -1;\n      } else\n        throw new SyntaxError(`Unexpected character at index ${c}`);\n    else if (f === void 0)\n      if (h === -1 && G[a] === 1)\n        l === -1 && (l = c);\n      else if (a === 32 || a === 9)\n        h === -1 && l !== -1 && (h = c);\n      else if (a === 59 || a === 44) {\n        if (l === -1)\n          throw new SyntaxError(`Unexpected character at index ${c}`);\n        h === -1 && (h = c), b(t, s.slice(l, h), !0), a === 44 && (b(e, o, t), t = /* @__PURE__ */ Object.create(null), o = void 0), l = h = -1;\n      } else if (a === 61 && l !== -1 && h === -1)\n        f = s.slice(l, c), l = h = -1;\n      else\n        throw new SyntaxError(`Unexpected character at index ${c}`);\n    else if (i) {\n      if (G[a] !== 1)\n        throw new SyntaxError(`Unexpected character at index ${c}`);\n      l === -1 ? l = c : r || (r = !0), i = !1;\n    } else if (n)\n      if (G[a] === 1)\n        l === -1 && (l = c);\n      else if (a === 34 && l !== -1)\n        n = !1, h = c;\n      else if (a === 92)\n        i = !0;\n      else\n        throw new SyntaxError(`Unexpected character at index ${c}`);\n    else if (a === 34 && s.charCodeAt(c - 1) === 61)\n      n = !0;\n    else if (h === -1 && G[a] === 1)\n      l === -1 && (l = c);\n    else if (l !== -1 && (a === 32 || a === 9))\n      h === -1 && (h = c);\n    else if (a === 59 || a === 44) {\n      if (l === -1)\n        throw new SyntaxError(`Unexpected character at index ${c}`);\n      h === -1 && (h = c);\n      let S = s.slice(l, h);\n      r && (S = S.replace(/\\\\/g, \"\"), r = !1), b(t, f, S), a === 44 && (b(e, o, t), t = /* @__PURE__ */ Object.create(null), o = void 0), f = void 0, l = h = -1;\n    } else\n      throw new SyntaxError(`Unexpected character at index ${c}`);\n  if (l === -1 || n || a === 32 || a === 9)\n    throw new SyntaxError(\"Unexpected end of input\");\n  h === -1 && (h = c);\n  const p = s.slice(l, h);\n  return o === void 0 ? b(e, p, t) : (f === void 0 ? b(t, p, !0) : r ? b(t, f, p.replace(/\\\\/g, \"\")) : b(t, f, p), b(e, o, t)), e;\n}\nfunction _s(s) {\n  return Object.keys(s).map((e) => {\n    let t = s[e];\n    return Array.isArray(t) || (t = [t]), t.map((r) => [e].concat(\n      Object.keys(r).map((i) => {\n        let n = r[i];\n        return Array.isArray(n) || (n = [n]), n.map((o) => o === !0 ? i : `${i}=${o}`).join(\"; \");\n      })\n    ).join(\"; \")).join(\", \");\n  }).join(\", \");\n}\nvar ot = { format: _s, parse: ds };\nconst ps = Xe, ms = Et, gs = Ze, at = xt, ys = vt, { randomBytes: Ss, createHash: xs } = Se, { URL: ue } = bt, T = re, vs = it, Es = nt, {\n  BINARY_TYPES: Ge,\n  EMPTY_BUFFER: Q,\n  GUID: bs,\n  kForOnEventAttribute: de,\n  kListener: ws,\n  kStatusCode: ks,\n  kWebSocket: y,\n  NOOP: ft\n} = U, {\n  EventTarget: { addEventListener: Os, removeEventListener: Ts }\n} = us, { format: Cs, parse: Ls } = ot, { toBuffer: Ns } = C, Ps = 30 * 1e3, lt = Symbol(\"kAborted\"), _e = [8, 13], k = [\"CONNECTING\", \"OPEN\", \"CLOSING\", \"CLOSED\"], $s = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\nlet m = class d extends ps {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(e, t, r) {\n    super(), this._binaryType = Ge[0], this._closeCode = 1006, this._closeFrameReceived = !1, this._closeFrameSent = !1, this._closeMessage = Q, this._closeTimer = null, this._extensions = {}, this._paused = !1, this._protocol = \"\", this._readyState = d.CONNECTING, this._receiver = null, this._sender = null, this._socket = null, e !== null ? (this._bufferedAmount = 0, this._isServer = !1, this._redirects = 0, t === void 0 ? t = [] : Array.isArray(t) || (typeof t == \"object\" && t !== null ? (r = t, t = []) : t = [t]), ht(this, e, t, r)) : this._isServer = !0;\n  }\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\n   * type).\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n  set binaryType(e) {\n    Ge.includes(e) && (this._binaryType = e, this._receiver && (this._receiver._binaryType = e));\n  }\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    return this._socket ? this._socket._writableState.length + this._sender._bufferedBytes : this._bufferedAmount;\n  }\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(e, t, r) {\n    const i = new vs({\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: r.maxPayload,\n      skipUTF8Validation: r.skipUTF8Validation\n    });\n    this._sender = new Es(e, this._extensions, r.generateMask), this._receiver = i, this._socket = e, i[y] = this, e[y] = this, i.on(\"conclude\", Bs), i.on(\"drain\", Ms), i.on(\"error\", Is), i.on(\"message\", Ds), i.on(\"ping\", Ws), i.on(\"pong\", As), e.setTimeout(0), e.setNoDelay(), t.length > 0 && e.unshift(t), e.on(\"close\", dt), e.on(\"data\", ne), e.on(\"end\", _t), e.on(\"error\", pt), this._readyState = d.OPEN, this.emit(\"open\");\n  }\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = d.CLOSED, this.emit(\"close\", this._closeCode, this._closeMessage);\n      return;\n    }\n    this._extensions[T.extensionName] && this._extensions[T.extensionName].cleanup(), this._receiver.removeAllListeners(), this._readyState = d.CLOSED, this.emit(\"close\", this._closeCode, this._closeMessage);\n  }\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(e, t) {\n    if (this.readyState !== d.CLOSED) {\n      if (this.readyState === d.CONNECTING) {\n        const r = \"WebSocket was closed before the connection was established\";\n        v(this, this._req, r);\n        return;\n      }\n      if (this.readyState === d.CLOSING) {\n        this._closeFrameSent && (this._closeFrameReceived || this._receiver._writableState.errorEmitted) && this._socket.end();\n        return;\n      }\n      this._readyState = d.CLOSING, this._sender.close(e, t, !this._isServer, (r) => {\n        r || (this._closeFrameSent = !0, (this._closeFrameReceived || this._receiver._writableState.errorEmitted) && this._socket.end());\n      }), this._closeTimer = setTimeout(\n        this._socket.destroy.bind(this._socket),\n        Ps\n      );\n    }\n  }\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    this.readyState === d.CONNECTING || this.readyState === d.CLOSED || (this._paused = !0, this._socket.pause());\n  }\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(e, t, r) {\n    if (this.readyState === d.CONNECTING)\n      throw new Error(\"WebSocket is not open: readyState 0 (CONNECTING)\");\n    if (typeof e == \"function\" ? (r = e, e = t = void 0) : typeof t == \"function\" && (r = t, t = void 0), typeof e == \"number\" && (e = e.toString()), this.readyState !== d.OPEN) {\n      pe(this, e, r);\n      return;\n    }\n    t === void 0 && (t = !this._isServer), this._sender.ping(e || Q, t, r);\n  }\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(e, t, r) {\n    if (this.readyState === d.CONNECTING)\n      throw new Error(\"WebSocket is not open: readyState 0 (CONNECTING)\");\n    if (typeof e == \"function\" ? (r = e, e = t = void 0) : typeof t == \"function\" && (r = t, t = void 0), typeof e == \"number\" && (e = e.toString()), this.readyState !== d.OPEN) {\n      pe(this, e, r);\n      return;\n    }\n    t === void 0 && (t = !this._isServer), this._sender.pong(e || Q, t, r);\n  }\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    this.readyState === d.CONNECTING || this.readyState === d.CLOSED || (this._paused = !1, this._receiver._writableState.needDrain || this._socket.resume());\n  }\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(e, t, r) {\n    if (this.readyState === d.CONNECTING)\n      throw new Error(\"WebSocket is not open: readyState 0 (CONNECTING)\");\n    if (typeof t == \"function\" && (r = t, t = {}), typeof e == \"number\" && (e = e.toString()), this.readyState !== d.OPEN) {\n      pe(this, e, r);\n      return;\n    }\n    const i = {\n      binary: typeof e != \"string\",\n      mask: !this._isServer,\n      compress: !0,\n      fin: !0,\n      ...t\n    };\n    this._extensions[T.extensionName] || (i.compress = !1), this._sender.send(e || Q, i, r);\n  }\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState !== d.CLOSED) {\n      if (this.readyState === d.CONNECTING) {\n        const e = \"WebSocket was closed before the connection was established\";\n        v(this, this._req, e);\n        return;\n      }\n      this._socket && (this._readyState = d.CLOSING, this._socket.destroy());\n    }\n  }\n};\nObject.defineProperty(m, \"CONNECTING\", {\n  enumerable: !0,\n  value: k.indexOf(\"CONNECTING\")\n});\nObject.defineProperty(m.prototype, \"CONNECTING\", {\n  enumerable: !0,\n  value: k.indexOf(\"CONNECTING\")\n});\nObject.defineProperty(m, \"OPEN\", {\n  enumerable: !0,\n  value: k.indexOf(\"OPEN\")\n});\nObject.defineProperty(m.prototype, \"OPEN\", {\n  enumerable: !0,\n  value: k.indexOf(\"OPEN\")\n});\nObject.defineProperty(m, \"CLOSING\", {\n  enumerable: !0,\n  value: k.indexOf(\"CLOSING\")\n});\nObject.defineProperty(m.prototype, \"CLOSING\", {\n  enumerable: !0,\n  value: k.indexOf(\"CLOSING\")\n});\nObject.defineProperty(m, \"CLOSED\", {\n  enumerable: !0,\n  value: k.indexOf(\"CLOSED\")\n});\nObject.defineProperty(m.prototype, \"CLOSED\", {\n  enumerable: !0,\n  value: k.indexOf(\"CLOSED\")\n});\n[\n  \"binaryType\",\n  \"bufferedAmount\",\n  \"extensions\",\n  \"isPaused\",\n  \"protocol\",\n  \"readyState\",\n  \"url\"\n].forEach((s) => {\n  Object.defineProperty(m.prototype, s, { enumerable: !0 });\n});\n[\"open\", \"error\", \"close\", \"message\"].forEach((s) => {\n  Object.defineProperty(m.prototype, `on${s}`, {\n    enumerable: !0,\n    get() {\n      for (const e of this.listeners(s))\n        if (e[de])\n          return e[ws];\n      return null;\n    },\n    set(e) {\n      for (const t of this.listeners(s))\n        if (t[de]) {\n          this.removeListener(s, t);\n          break;\n        }\n      typeof e == \"function\" && this.addEventListener(s, e, {\n        [de]: !0\n      });\n    }\n  });\n});\nm.prototype.addEventListener = Os;\nm.prototype.removeEventListener = Ts;\nvar ct = m;\nfunction ht(s, e, t, r) {\n  const i = {\n    protocolVersion: _e[1],\n    maxPayload: 104857600,\n    skipUTF8Validation: !1,\n    perMessageDeflate: !0,\n    followRedirects: !1,\n    maxRedirects: 10,\n    ...r,\n    createConnection: void 0,\n    socketPath: void 0,\n    hostname: void 0,\n    protocol: void 0,\n    timeout: void 0,\n    method: \"GET\",\n    host: void 0,\n    path: void 0,\n    port: void 0\n  };\n  if (!_e.includes(i.protocolVersion))\n    throw new RangeError(\n      `Unsupported protocol version: ${i.protocolVersion} (supported versions: ${_e.join(\", \")})`\n    );\n  let n;\n  if (e instanceof ue)\n    n = e, s._url = e.href;\n  else {\n    try {\n      n = new ue(e);\n    } catch {\n      throw new SyntaxError(`Invalid URL: ${e}`);\n    }\n    s._url = e;\n  }\n  const o = n.protocol === \"wss:\", f = n.protocol === \"ws+unix:\";\n  let l;\n  if (n.protocol !== \"ws:\" && !o && !f ? l = `The URL's protocol must be one of \"ws:\", \"wss:\", or \"ws+unix:\"` : f && !n.pathname ? l = \"The URL's pathname is empty\" : n.hash && (l = \"The URL contains a fragment identifier\"), l) {\n    const u = new SyntaxError(l);\n    if (s._redirects === 0)\n      throw u;\n    ee(s, u);\n    return;\n  }\n  const a = o ? 443 : 80, h = Ss(16).toString(\"base64\"), c = o ? ms.request : gs.request, p = /* @__PURE__ */ new Set();\n  let S;\n  if (i.createConnection = o ? Us : Rs, i.defaultPort = i.defaultPort || a, i.port = n.port || a, i.host = n.hostname.startsWith(\"[\") ? n.hostname.slice(1, -1) : n.hostname, i.headers = {\n    ...i.headers,\n    \"Sec-WebSocket-Version\": i.protocolVersion,\n    \"Sec-WebSocket-Key\": h,\n    Connection: \"Upgrade\",\n    Upgrade: \"websocket\"\n  }, i.path = n.pathname + n.search, i.timeout = i.handshakeTimeout, i.perMessageDeflate && (S = new T(\n    i.perMessageDeflate !== !0 ? i.perMessageDeflate : {},\n    !1,\n    i.maxPayload\n  ), i.headers[\"Sec-WebSocket-Extensions\"] = Cs({\n    [T.extensionName]: S.offer()\n  })), t.length) {\n    for (const u of t) {\n      if (typeof u != \"string\" || !$s.test(u) || p.has(u))\n        throw new SyntaxError(\n          \"An invalid or duplicated subprotocol was specified\"\n        );\n      p.add(u);\n    }\n    i.headers[\"Sec-WebSocket-Protocol\"] = t.join(\",\");\n  }\n  if (i.origin && (i.protocolVersion < 13 ? i.headers[\"Sec-WebSocket-Origin\"] = i.origin : i.headers.Origin = i.origin), (n.username || n.password) && (i.auth = `${n.username}:${n.password}`), f) {\n    const u = i.path.split(\":\");\n    i.socketPath = u[0], i.path = u[1];\n  }\n  let _;\n  if (i.followRedirects) {\n    if (s._redirects === 0) {\n      s._originalIpc = f, s._originalSecure = o, s._originalHostOrSocketPath = f ? i.socketPath : n.host;\n      const u = r && r.headers;\n      if (r = { ...r, headers: {} }, u)\n        for (const [x, M] of Object.entries(u))\n          r.headers[x.toLowerCase()] = M;\n    } else if (s.listenerCount(\"redirect\") === 0) {\n      const u = f ? s._originalIpc ? i.socketPath === s._originalHostOrSocketPath : !1 : s._originalIpc ? !1 : n.host === s._originalHostOrSocketPath;\n      (!u || s._originalSecure && !o) && (delete i.headers.authorization, delete i.headers.cookie, u || delete i.headers.host, i.auth = void 0);\n    }\n    i.auth && !r.headers.authorization && (r.headers.authorization = \"Basic \" + Buffer.from(i.auth).toString(\"base64\")), _ = s._req = c(i), s._redirects && s.emit(\"redirect\", s.url, _);\n  } else\n    _ = s._req = c(i);\n  i.timeout && _.on(\"timeout\", () => {\n    v(s, _, \"Opening handshake has timed out\");\n  }), _.on(\"error\", (u) => {\n    _ === null || _[lt] || (_ = s._req = null, ee(s, u));\n  }), _.on(\"response\", (u) => {\n    const x = u.headers.location, M = u.statusCode;\n    if (x && i.followRedirects && M >= 300 && M < 400) {\n      if (++s._redirects > i.maxRedirects) {\n        v(s, _, \"Maximum redirects exceeded\");\n        return;\n      }\n      _.abort();\n      let Y;\n      try {\n        Y = new ue(x, e);\n      } catch {\n        const N = new SyntaxError(`Invalid URL: ${x}`);\n        ee(s, N);\n        return;\n      }\n      ht(s, Y, t, r);\n    } else\n      s.emit(\"unexpected-response\", _, u) || v(\n        s,\n        _,\n        `Unexpected server response: ${u.statusCode}`\n      );\n  }), _.on(\"upgrade\", (u, x, M) => {\n    if (s.emit(\"upgrade\", u), s.readyState !== m.CONNECTING)\n      return;\n    if (_ = s._req = null, u.headers.upgrade.toLowerCase() !== \"websocket\") {\n      v(s, x, \"Invalid Upgrade header\");\n      return;\n    }\n    const Y = xs(\"sha1\").update(h + bs).digest(\"base64\");\n    if (u.headers[\"sec-websocket-accept\"] !== Y) {\n      v(s, x, \"Invalid Sec-WebSocket-Accept header\");\n      return;\n    }\n    const W = u.headers[\"sec-websocket-protocol\"];\n    let N;\n    if (W !== void 0 ? p.size ? p.has(W) || (N = \"Server sent an invalid subprotocol\") : N = \"Server sent a subprotocol but none was requested\" : p.size && (N = \"Server sent no subprotocol\"), N) {\n      v(s, x, N);\n      return;\n    }\n    W && (s._protocol = W);\n    const ve = u.headers[\"sec-websocket-extensions\"];\n    if (ve !== void 0) {\n      if (!S) {\n        v(s, x, \"Server sent a Sec-WebSocket-Extensions header but no extension was requested\");\n        return;\n      }\n      let oe;\n      try {\n        oe = Ls(ve);\n      } catch {\n        v(s, x, \"Invalid Sec-WebSocket-Extensions header\");\n        return;\n      }\n      const Ee = Object.keys(oe);\n      if (Ee.length !== 1 || Ee[0] !== T.extensionName) {\n        v(s, x, \"Server indicated an extension that was not requested\");\n        return;\n      }\n      try {\n        S.accept(oe[T.extensionName]);\n      } catch {\n        v(s, x, \"Invalid Sec-WebSocket-Extensions header\");\n        return;\n      }\n      s._extensions[T.extensionName] = S;\n    }\n    s.setSocket(x, M, {\n      generateMask: i.generateMask,\n      maxPayload: i.maxPayload,\n      skipUTF8Validation: i.skipUTF8Validation\n    });\n  }), i.finishRequest ? i.finishRequest(_, s) : _.end();\n}\nfunction ee(s, e) {\n  s._readyState = m.CLOSING, s.emit(\"error\", e), s.emitClose();\n}\nfunction Rs(s) {\n  return s.path = s.socketPath, at.connect(s);\n}\nfunction Us(s) {\n  return s.path = void 0, !s.servername && s.servername !== \"\" && (s.servername = at.isIP(s.host) ? \"\" : s.host), ys.connect(s);\n}\nfunction v(s, e, t) {\n  s._readyState = m.CLOSING;\n  const r = new Error(t);\n  Error.captureStackTrace(r, v), e.setHeader ? (e[lt] = !0, e.abort(), e.socket && !e.socket.destroyed && e.socket.destroy(), process.nextTick(ee, s, r)) : (e.destroy(r), e.once(\"error\", s.emit.bind(s, \"error\")), e.once(\"close\", s.emitClose.bind(s)));\n}\nfunction pe(s, e, t) {\n  if (e) {\n    const r = Ns(e).length;\n    s._socket ? s._sender._bufferedBytes += r : s._bufferedAmount += r;\n  }\n  if (t) {\n    const r = new Error(\n      `WebSocket is not open: readyState ${s.readyState} (${k[s.readyState]})`\n    );\n    process.nextTick(t, r);\n  }\n}\nfunction Bs(s, e) {\n  const t = this[y];\n  t._closeFrameReceived = !0, t._closeMessage = e, t._closeCode = s, t._socket[y] !== void 0 && (t._socket.removeListener(\"data\", ne), process.nextTick(ut, t._socket), s === 1005 ? t.close() : t.close(s, e));\n}\nfunction Ms() {\n  const s = this[y];\n  s.isPaused || s._socket.resume();\n}\nfunction Is(s) {\n  const e = this[y];\n  e._socket[y] !== void 0 && (e._socket.removeListener(\"data\", ne), process.nextTick(ut, e._socket), e.close(s[ks])), e.emit(\"error\", s);\n}\nfunction Ve() {\n  this[y].emitClose();\n}\nfunction Ds(s, e) {\n  this[y].emit(\"message\", s, e);\n}\nfunction Ws(s) {\n  const e = this[y];\n  e.pong(s, !e._isServer, ft), e.emit(\"ping\", s);\n}\nfunction As(s) {\n  this[y].emit(\"pong\", s);\n}\nfunction ut(s) {\n  s.resume();\n}\nfunction dt() {\n  const s = this[y];\n  this.removeListener(\"close\", dt), this.removeListener(\"data\", ne), this.removeListener(\"end\", _t), s._readyState = m.CLOSING;\n  let e;\n  !this._readableState.endEmitted && !s._closeFrameReceived && !s._receiver._writableState.errorEmitted && (e = s._socket.read()) !== null && s._receiver.write(e), s._receiver.end(), this[y] = void 0, clearTimeout(s._closeTimer), s._receiver._writableState.finished || s._receiver._writableState.errorEmitted ? s.emitClose() : (s._receiver.on(\"error\", Ve), s._receiver.on(\"finish\", Ve));\n}\nfunction ne(s) {\n  this[y]._receiver.write(s) || this.pause();\n}\nfunction _t() {\n  const s = this[y];\n  s._readyState = m.CLOSING, s._receiver.end(), this.end();\n}\nfunction pt() {\n  const s = this[y];\n  this.removeListener(\"error\", pt), this.on(\"error\", ft), s && (s._readyState = m.CLOSING, this.destroy());\n}\nconst mr = ct, { tokenChars: Fs } = L;\nfunction js(s) {\n  const e = /* @__PURE__ */ new Set();\n  let t = -1, r = -1, i = 0;\n  for (i; i < s.length; i++) {\n    const o = s.charCodeAt(i);\n    if (r === -1 && Fs[o] === 1)\n      t === -1 && (t = i);\n    else if (i !== 0 && (o === 32 || o === 9))\n      r === -1 && t !== -1 && (r = i);\n    else if (o === 44) {\n      if (t === -1)\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      r === -1 && (r = i);\n      const f = s.slice(t, r);\n      if (e.has(f))\n        throw new SyntaxError(`The \"${f}\" subprotocol is duplicated`);\n      e.add(f), t = r = -1;\n    } else\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n  }\n  if (t === -1 || r !== -1)\n    throw new SyntaxError(\"Unexpected end of input\");\n  const n = s.slice(t, i);\n  if (e.has(n))\n    throw new SyntaxError(`The \"${n}\" subprotocol is duplicated`);\n  return e.add(n), e;\n}\nvar Gs = { parse: js };\nconst Vs = Xe, se = Ze, { createHash: Hs } = Se, He = ot, P = re, zs = Gs, qs = ct, { GUID: Ys, kWebSocket: Ks } = U, Xs = /^[+/0-9A-Za-z]{22}==$/, ze = 0, qe = 1, mt = 2;\nclass Zs extends Vs {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(e, t) {\n    if (super(), e = {\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: !1,\n      perMessageDeflate: !1,\n      handleProtocols: null,\n      clientTracking: !0,\n      verifyClient: null,\n      noServer: !1,\n      backlog: null,\n      // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket: qs,\n      ...e\n    }, e.port == null && !e.server && !e.noServer || e.port != null && (e.server || e.noServer) || e.server && e.noServer)\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options must be specified'\n      );\n    if (e.port != null ? (this._server = se.createServer((r, i) => {\n      const n = se.STATUS_CODES[426];\n      i.writeHead(426, {\n        \"Content-Length\": n.length,\n        \"Content-Type\": \"text/plain\"\n      }), i.end(n);\n    }), this._server.listen(\n      e.port,\n      e.host,\n      e.backlog,\n      t\n    )) : e.server && (this._server = e.server), this._server) {\n      const r = this.emit.bind(this, \"connection\");\n      this._removeListeners = Js(this._server, {\n        listening: this.emit.bind(this, \"listening\"),\n        error: this.emit.bind(this, \"error\"),\n        upgrade: (i, n, o) => {\n          this.handleUpgrade(i, n, o, r);\n        }\n      });\n    }\n    e.perMessageDeflate === !0 && (e.perMessageDeflate = {}), e.clientTracking && (this.clients = /* @__PURE__ */ new Set(), this._shouldEmitClose = !1), this.options = e, this._state = ze;\n  }\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer)\n      throw new Error('The server is operating in \"noServer\" mode');\n    return this._server ? this._server.address() : null;\n  }\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(e) {\n    if (this._state === mt) {\n      e && this.once(\"close\", () => {\n        e(new Error(\"The server is not running\"));\n      }), process.nextTick(V, this);\n      return;\n    }\n    if (e && this.once(\"close\", e), this._state !== qe)\n      if (this._state = qe, this.options.noServer || this.options.server)\n        this._server && (this._removeListeners(), this._removeListeners = this._server = null), this.clients ? this.clients.size ? this._shouldEmitClose = !0 : process.nextTick(V, this) : process.nextTick(V, this);\n      else {\n        const t = this._server;\n        this._removeListeners(), this._removeListeners = this._server = null, t.close(() => {\n          V(this);\n        });\n      }\n  }\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(e) {\n    if (this.options.path) {\n      const t = e.url.indexOf(\"?\");\n      if ((t !== -1 ? e.url.slice(0, t) : e.url) !== this.options.path)\n        return !1;\n    }\n    return !0;\n  }\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(e, t, r, i) {\n    t.on(\"error\", Ye);\n    const n = e.headers[\"sec-websocket-key\"], o = +e.headers[\"sec-websocket-version\"];\n    if (e.method !== \"GET\") {\n      R(this, e, t, 405, \"Invalid HTTP method\");\n      return;\n    }\n    if (e.headers.upgrade.toLowerCase() !== \"websocket\") {\n      R(this, e, t, 400, \"Invalid Upgrade header\");\n      return;\n    }\n    if (!n || !Xs.test(n)) {\n      R(this, e, t, 400, \"Missing or invalid Sec-WebSocket-Key header\");\n      return;\n    }\n    if (o !== 8 && o !== 13) {\n      R(this, e, t, 400, \"Missing or invalid Sec-WebSocket-Version header\");\n      return;\n    }\n    if (!this.shouldHandle(e)) {\n      z(t, 400);\n      return;\n    }\n    const f = e.headers[\"sec-websocket-protocol\"];\n    let l = /* @__PURE__ */ new Set();\n    if (f !== void 0)\n      try {\n        l = zs.parse(f);\n      } catch {\n        R(this, e, t, 400, \"Invalid Sec-WebSocket-Protocol header\");\n        return;\n      }\n    const a = e.headers[\"sec-websocket-extensions\"], h = {};\n    if (this.options.perMessageDeflate && a !== void 0) {\n      const c = new P(\n        this.options.perMessageDeflate,\n        !0,\n        this.options.maxPayload\n      );\n      try {\n        const p = He.parse(a);\n        p[P.extensionName] && (c.accept(p[P.extensionName]), h[P.extensionName] = c);\n      } catch {\n        R(this, e, t, 400, \"Invalid or unacceptable Sec-WebSocket-Extensions header\");\n        return;\n      }\n    }\n    if (this.options.verifyClient) {\n      const c = {\n        origin: e.headers[`${o === 8 ? \"sec-websocket-origin\" : \"origin\"}`],\n        secure: !!(e.socket.authorized || e.socket.encrypted),\n        req: e\n      };\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(c, (p, S, _, u) => {\n          if (!p)\n            return z(t, S || 401, _, u);\n          this.completeUpgrade(\n            h,\n            n,\n            l,\n            e,\n            t,\n            r,\n            i\n          );\n        });\n        return;\n      }\n      if (!this.options.verifyClient(c))\n        return z(t, 401);\n    }\n    this.completeUpgrade(h, n, l, e, t, r, i);\n  }\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(e, t, r, i, n, o, f) {\n    if (!n.readable || !n.writable)\n      return n.destroy();\n    if (n[Ks])\n      throw new Error(\n        \"server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration\"\n      );\n    if (this._state > ze)\n      return z(n, 503);\n    const a = [\n      \"HTTP/1.1 101 Switching Protocols\",\n      \"Upgrade: websocket\",\n      \"Connection: Upgrade\",\n      `Sec-WebSocket-Accept: ${Hs(\"sha1\").update(t + Ys).digest(\"base64\")}`\n    ], h = new this.options.WebSocket(null);\n    if (r.size) {\n      const c = this.options.handleProtocols ? this.options.handleProtocols(r, i) : r.values().next().value;\n      c && (a.push(`Sec-WebSocket-Protocol: ${c}`), h._protocol = c);\n    }\n    if (e[P.extensionName]) {\n      const c = e[P.extensionName].params, p = He.format({\n        [P.extensionName]: [c]\n      });\n      a.push(`Sec-WebSocket-Extensions: ${p}`), h._extensions = e;\n    }\n    this.emit(\"headers\", a, i), n.write(a.concat(`\\r\n`).join(`\\r\n`)), n.removeListener(\"error\", Ye), h.setSocket(n, o, {\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    }), this.clients && (this.clients.add(h), h.on(\"close\", () => {\n      this.clients.delete(h), this._shouldEmitClose && !this.clients.size && process.nextTick(V, this);\n    })), f(h, i);\n  }\n}\nvar Qs = Zs;\nfunction Js(s, e) {\n  for (const t of Object.keys(e))\n    s.on(t, e[t]);\n  return function() {\n    for (const r of Object.keys(e))\n      s.removeListener(r, e[r]);\n  };\n}\nfunction V(s) {\n  s._state = mt, s.emit(\"close\");\n}\nfunction Ye() {\n  this.destroy();\n}\nfunction z(s, e, t, r) {\n  t = t || se.STATUS_CODES[e], r = {\n    Connection: \"close\",\n    \"Content-Type\": \"text/html\",\n    \"Content-Length\": Buffer.byteLength(t),\n    ...r\n  }, s.once(\"finish\", s.destroy), s.end(\n    `HTTP/1.1 ${e} ${se.STATUS_CODES[e]}\\r\n` + Object.keys(r).map((i) => `${i}: ${r[i]}`).join(`\\r\n`) + `\\r\n\\r\n` + t\n  );\n}\nfunction R(s, e, t, r, i) {\n  if (s.listenerCount(\"wsClientError\")) {\n    const n = new Error(i);\n    Error.captureStackTrace(n, R), s.emit(\"wsClientError\", n, t, e);\n  } else\n    z(t, r, i);\n}\nconst gr = Qs;\nexport {\n  _r as Receiver,\n  pr as Sender,\n  mr as WebSocket,\n  gr as WebSocketServer,\n  cr as createWebSocketStream,\n  mr as default\n};\n"],"names":["Se","Qe","s","e","t","r","i","wt","Ke","be","kt","Je","Ot","n","o","f","l","Tt","cr","C","Ct","Lt","Nt","Pt","$t","Rt","Ut","Bt","et","tt","Mt","ge","fe","It","Dt","A","yt","ke","Wt","st","At","Ft","te","w","H","O","J","jt","Vt","rt","Gt","re","Ht","zt","qt","Yt","Oe","Te","St","Kt","Xt","ye","Zt","Ce","Qt","Le","Jt","es","le","ts","ss","rs","X","F","Pe","$e","ce","is","ns","g","it","_r","os","Ue","as","fs","Be","I","E","ls","cs","$","h","c","nt","pr","j","he","Me","Ie","De","We","D","B","q","ie","xe","hs","Z","us","G","b","ds","p","_s","ot","ps","Xe","ms","Et","gs","Ze","at","xt","ys","vt","Ss","xs","ue","bt","T","vs","Es","Ge","bs","de","ws","ks","ft","Os","Ts","Cs","Ls","Ns","Ps","lt","k","$s","m","d","ht","Bs","Ms","Is","Ds","Ws","As","dt","ne","_t","pt","v","ct","u","ee","Us","Rs","x","Y","N","ve","oe","Ee","ut","Ve","mr","Fs","js","Gs","Vs","se","Hs","He","zs","qs","Ys","Ks","Xs","ze","qe","mt","Zs","Js","V","Ye","R","z","a","Qs","gr"],"mappings":"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KAAM,KAAK,eAAe,OAAQU,EAAE,EAAG,KAAK,OACvK,CACA,SAASD,GAAG9C,EAAG,CACb,KAAKwC,EAAE,EAAE,SAAW,KAAMxC,EAAEqC,EAAE,EAAI,KAAM,KAAKK,CAAC,EAAE1C,CAAC,CACnD,CACA,IAAI,EAAI,CAAE,EAAEkD,GAAK,CACf,IAAI,SAAU,CACZ,OAAO,CACR,EACD,IAAI,QAAQlD,EAAG,CACb,EAAIA,CACL,CACH,EACA,MAAMmD,GAAK,CAAE,EAAEC,GAAqB,OAAO,OAAuB,OAAO,eAAe,CACtF,UAAW,KACX,QAASD,EACX,EAAG,OAAO,YAAa,CAAE,MAAO,SAAU,CAAC,EAAGE,GAAqBtD,GAAGqD,EAAE,EACxE,IAAIE,GACJ,KAAM,CAAE,OAAQC,IAAOC,EAAIC,GAAK,CAC9B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,CAEF,EACA,SAASC,GAAG1D,EAAG,CACb,OAAOA,GAAK,KAAOA,GAAK,MAAQA,IAAM,MAAQA,IAAM,MAAQA,IAAM,MAAQA,GAAK,KAAOA,GAAK,I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"}